\section{dqm4hep\+:\+:D\+Q\+M\+Monitor\+Element\+Sender Class Reference}
\label{classdqm4hep_1_1DQMMonitorElementSender}\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}


\doxyref{D\+Q\+M\+Monitor\+Element\+Sender}{p.}{classdqm4hep_1_1DQMMonitorElementSender} class.  




{\ttfamily \#include $<$D\+Q\+M\+Monitor\+Element\+Sender.\+h$>$}

Inheritance diagram for dqm4hep\+:\+:D\+Q\+M\+Monitor\+Element\+Sender\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classdqm4hep_1_1DQMMonitorElementSender}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf D\+Q\+M\+Monitor\+Element\+Sender} ({\bf D\+Q\+M\+Module\+Application} $\ast$p\+Application)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
{\bf $\sim$\+D\+Q\+M\+Monitor\+Element\+Sender} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
{\bf Status\+Code} {\bf set\+Collector\+Name} (const std\+::string \&collector\+Name)
\begin{DoxyCompactList}\small\item\em Set the collector name to which the elements will be sent. \end{DoxyCompactList}\item 
{\bf Status\+Code} {\bf send\+Monitor\+Elements} ()
\begin{DoxyCompactList}\small\item\em Send the subscribed monitor element to the collector. \end{DoxyCompactList}\item 
{\bf Status\+Code} {\bf connect\+To\+Service} ()
\begin{DoxyCompactList}\small\item\em Connect the sender to the collector. \end{DoxyCompactList}\item 
{\bf Status\+Code} {\bf disconnect\+From\+Service} ()
\begin{DoxyCompactList}\small\item\em Disconnect the sender to the collector. \end{DoxyCompactList}\item 
bool {\bf is\+Connected\+To\+Service} () const 
\begin{DoxyCompactList}\small\item\em Whether the sender is connected to the collector. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
typedef std\+::map$<$ std\+::string, \\*
{\bf D\+Q\+M\+Monitor\+Element\+Info} $>$ {\bf D\+Q\+M\+Monitor\+Element\+Info\+Map}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void {\bf info\+Handler} ()
\item 
void {\bf add\+Available\+Monitor\+Element} ({\bf D\+Q\+M\+Monitor\+Element} $\ast$p\+Monitor\+Element)
\item 
void {\bf remove\+Available\+Monitor\+Element} (const std\+::string \&monitor\+Element\+Name)
\item 
void {\bf send\+Available\+Monitor\+Element\+List} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
{\bf D\+Q\+M\+Module\+Application} $\ast$ {\bf m\+\_\+p\+Application}
\begin{DoxyCompactList}\small\item\em The module application that sends elements to the collector. \end{DoxyCompactList}\item 
std\+::string {\bf m\+\_\+collector\+Name}
\begin{DoxyCompactList}\small\item\em The collector name to which the monitor elements will be sent. \end{DoxyCompactList}\item 
{\bf D\+Q\+M\+Data\+Stream} {\bf m\+\_\+data\+Stream}
\begin{DoxyCompactList}\small\item\em The data stream used to serialize the monitor elements. \end{DoxyCompactList}\item 
{\bf D\+Q\+M\+Data\+Stream} {\bf m\+\_\+in\+Data\+Stream}
\begin{DoxyCompactList}\small\item\em The data stream used to serialize dim info. \end{DoxyCompactList}\item 
{\bf String\+Set} {\bf m\+\_\+subscribed\+Me\+List}
\begin{DoxyCompactList}\small\item\em The subscribed monitor element list. \end{DoxyCompactList}\item 
{\bf D\+Q\+M\+Monitor\+Element\+Info\+Map} {\bf m\+\_\+available\+Me\+Map}
\begin{DoxyCompactList}\small\item\em The available monitor element list. \end{DoxyCompactList}\item 
pthread\+\_\+mutex\+\_\+t {\bf m\+\_\+mutex}
\begin{DoxyCompactList}\small\item\em Mutex to lock unlock on service update. \end{DoxyCompactList}\item 
bool {\bf m\+\_\+send\+Available\+Me\+List}
\begin{DoxyCompactList}\small\item\em Whether the list of available me has to be re-\/sent to the collector. \end{DoxyCompactList}\item 
bool {\bf m\+\_\+is\+Connected}
\begin{DoxyCompactList}\small\item\em Whether the sender is connected to the collector. \end{DoxyCompactList}\item 
Dim\+Updated\+Info $\ast$ {\bf m\+\_\+p\+Subscribed\+List\+Info}
\begin{DoxyCompactList}\small\item\em The dim info to receive subscribed me list from collector. \end{DoxyCompactList}\item 
Dim\+Updated\+Info $\ast$ {\bf m\+\_\+p\+Collector\+State\+Info}
\begin{DoxyCompactList}\small\item\em The dim info to receive when the collector state changes. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class {\bf D\+Q\+M\+Module\+Api}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\doxyref{D\+Q\+M\+Monitor\+Element\+Sender}{p.}{classdqm4hep_1_1DQMMonitorElementSender} class. 

Definition at line 46 of file D\+Q\+M\+Monitor\+Element\+Sender.\+h.



\subsection{Member Typedef Documentation}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!D\+Q\+M\+Monitor\+Element\+Info\+Map@{D\+Q\+M\+Monitor\+Element\+Info\+Map}}
\index{D\+Q\+M\+Monitor\+Element\+Info\+Map@{D\+Q\+M\+Monitor\+Element\+Info\+Map}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{D\+Q\+M\+Monitor\+Element\+Info\+Map}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<$std\+::string, {\bf D\+Q\+M\+Monitor\+Element\+Info}$>$ {\bf dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::\+D\+Q\+M\+Monitor\+Element\+Info\+Map}\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementSender_a3c107c27aa91a104c057330035e07956}


Definition at line 96 of file D\+Q\+M\+Monitor\+Element\+Sender.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!D\+Q\+M\+Monitor\+Element\+Sender@{D\+Q\+M\+Monitor\+Element\+Sender}}
\index{D\+Q\+M\+Monitor\+Element\+Sender@{D\+Q\+M\+Monitor\+Element\+Sender}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{D\+Q\+M\+Monitor\+Element\+Sender}]{\setlength{\rightskip}{0pt plus 5cm}dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::\+D\+Q\+M\+Monitor\+Element\+Sender (
\begin{DoxyParamCaption}
\item[{{\bf D\+Q\+M\+Module\+Application} $\ast$}]{p\+Application}
\end{DoxyParamCaption}
)}\label{classdqm4hep_1_1DQMMonitorElementSender_a41de8986c966e3ede2e40e7e034302cc}


Constructor. 



Definition at line 41 of file D\+Q\+M\+Monitor\+Element\+Sender.\+cc.



References m\+\_\+mutex.


\begin{DoxyCode}
41                                                                                    :
42     m_pApplication(pApplication),
43     m_collectorName(\textcolor{stringliteral}{"DEFAULT"}),
44     m_dataStream(4*1024*1024),    \textcolor{comment}{// 4 Mo to start}
45     m_inDataStream(1024*1024),
46     m_sendAvailableMeList(\textcolor{keyword}{true})
47 \{
48   pthread\_mutex\_init(&m_mutex, NULL);
49 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!````~D\+Q\+M\+Monitor\+Element\+Sender@{$\sim$\+D\+Q\+M\+Monitor\+Element\+Sender}}
\index{````~D\+Q\+M\+Monitor\+Element\+Sender@{$\sim$\+D\+Q\+M\+Monitor\+Element\+Sender}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{$\sim$\+D\+Q\+M\+Monitor\+Element\+Sender}]{\setlength{\rightskip}{0pt plus 5cm}dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::$\sim$\+D\+Q\+M\+Monitor\+Element\+Sender (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classdqm4hep_1_1DQMMonitorElementSender_a4c3f10f2e5c0cda71100b79f7ff53ea5}


Destructor. 



Definition at line 53 of file D\+Q\+M\+Monitor\+Element\+Sender.\+cc.



References m\+\_\+mutex.


\begin{DoxyCode}
54 \{
55   pthread\_mutex\_destroy(&m_mutex);
56 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!add\+Available\+Monitor\+Element@{add\+Available\+Monitor\+Element}}
\index{add\+Available\+Monitor\+Element@{add\+Available\+Monitor\+Element}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{add\+Available\+Monitor\+Element}]{\setlength{\rightskip}{0pt plus 5cm}void dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::add\+Available\+Monitor\+Element (
\begin{DoxyParamCaption}
\item[{{\bf D\+Q\+M\+Monitor\+Element} $\ast$}]{p\+Monitor\+Element}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementSender_a499d43b71041098c154de1ad2b8e1f93}


Definition at line 273 of file D\+Q\+M\+Monitor\+Element\+Sender.\+cc.



References dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+::get\+Description(), dqm4hep\+::\+D\+Q\+M\+Module\+Application\+::get\+Module(), dqm4hep\+::\+D\+Q\+M\+Module\+::get\+Name(), dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+::get\+Name(), dqm4hep\+::\+D\+Q\+M\+Path\+::get\+Path(), dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+::get\+Path(), dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+::get\+Type(), m\+\_\+available\+Me\+Map, m\+\_\+p\+Application, m\+\_\+send\+Available\+Me\+List, and dqm4hep\+::monitor\+Element\+Type\+To\+String().



Referenced by dqm4hep\+::\+D\+Q\+M\+Module\+Api\+::book\+Char\+Histogram1\+D(), dqm4hep\+::\+D\+Q\+M\+Module\+Api\+::book\+Char\+Histogram2\+D(), dqm4hep\+::\+D\+Q\+M\+Module\+Api\+::book\+Float(), dqm4hep\+::\+D\+Q\+M\+Module\+Api\+::book\+Int(), dqm4hep\+::\+D\+Q\+M\+Module\+Api\+::book\+Int\+Histogram1\+D(), dqm4hep\+::\+D\+Q\+M\+Module\+Api\+::book\+Int\+Histogram2\+D(), dqm4hep\+::\+D\+Q\+M\+Module\+Api\+::book\+Monitor\+Element(), dqm4hep\+::\+D\+Q\+M\+Module\+Api\+::book\+Object(), dqm4hep\+::\+D\+Q\+M\+Module\+Api\+::book\+Profile1\+D(), dqm4hep\+::\+D\+Q\+M\+Module\+Api\+::book\+Profile2\+D(), dqm4hep\+::\+D\+Q\+M\+Module\+Api\+::book\+Real\+Histogram1\+D(), dqm4hep\+::\+D\+Q\+M\+Module\+Api\+::book\+Real\+Histogram2\+D(), dqm4hep\+::\+D\+Q\+M\+Module\+Api\+::book\+Short(), dqm4hep\+::\+D\+Q\+M\+Module\+Api\+::book\+Short\+Histogram1\+D(), dqm4hep\+::\+D\+Q\+M\+Module\+Api\+::book\+Short\+Histogram2\+D(), and dqm4hep\+::\+D\+Q\+M\+Module\+Api\+::book\+String().


\begin{DoxyCode}
274 \{
275   std::string fullName = ( pMonitorElement->getPath() + pMonitorElement->getName() ).getPath();
276 
277   \textcolor{keywordflow}{if}(fullName.at(0) != \textcolor{charliteral}{'/'})
278     fullName = \textcolor{stringliteral}{"/"} + fullName;
279 
280   \textcolor{comment}{// prepare for insert}
281   DQMMonitorElementInfoMap::value\_type insertValue( fullName , DQMMonitorElementInfo() );
282 
283   \textcolor{comment}{// insert it}
284   std::pair<DQMMonitorElementInfoMap::iterator, bool> ret = m_availableMeMap.insert(insertValue);
285 
286   \textcolor{comment}{// return is already present}
287   \textcolor{keywordflow}{if}(!ret.second)
288     \textcolor{keywordflow}{return};
289 
290   \textcolor{comment}{// fill info}
291   ret.first->second.m\_moduleName = m_pApplication->getModule()->getName();
292   ret.first->second.m\_monitorElementFullPath = pMonitorElement->getPath().getPath();
293   ret.first->second.m\_monitorElementType = monitorElementTypeToString(pMonitorElement->getType());
294   ret.first->second.m\_monitorElementName = pMonitorElement->getName();
295   ret.first->second.m\_monitorElementDescription = pMonitorElement->getDescription();
296 
297   std::cout << \textcolor{stringliteral}{"me : "} << pMonitorElement->getName() << \textcolor{stringliteral}{" added in sender"} << std::endl;
298 
299   \textcolor{comment}{// for future update on the collector side}
300   m_sendAvailableMeList = \textcolor{keyword}{true};
301 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!connect\+To\+Service@{connect\+To\+Service}}
\index{connect\+To\+Service@{connect\+To\+Service}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{connect\+To\+Service}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Status\+Code} dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::connect\+To\+Service (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classdqm4hep_1_1DQMMonitorElementSender_a9e3f91d24466c343306b8fcaf82b4d81}


Connect the sender to the collector. 



Definition at line 166 of file D\+Q\+M\+Monitor\+Element\+Sender.\+cc.



References dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::get\+Buffer(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::get\+Buffer\+Size(), is\+Connected\+To\+Service(), m\+\_\+collector\+Name, m\+\_\+in\+Data\+Stream, m\+\_\+is\+Connected, m\+\_\+p\+Collector\+State\+Info, and m\+\_\+p\+Subscribed\+List\+Info.



Referenced by dqm4hep\+::\+D\+Q\+M\+Analysis\+Module\+Application\+::stop\+Services().


\begin{DoxyCode}
167 \{
168   \textcolor{keywordflow}{if}(this->isConnectedToService())
169     \textcolor{keywordflow}{return} STATUS\_CODE\_SUCCESS;
170 
171   std::string serviceName = \textcolor{stringliteral}{"DQM4HEP/MonitorElementCollector/"} + m_collectorName + \textcolor{stringliteral}{"/NOTIFY\_WATCHED\_ME\_SVC"}
      ;
172   m_pSubscribedListInfo = \textcolor{keyword}{new} DimUpdatedInfo( (\textcolor{keywordtype}{char} *) serviceName.c\_str() , (\textcolor{keywordtype}{void} *) 
      m_inDataStream.getBuffer() , m_inDataStream.getBufferSize() ,  this );
173 
174   serviceName = \textcolor{stringliteral}{"DQM4HEP/MonitorElementCollector/"} + m_collectorName + \textcolor{stringliteral}{"/COLLECTOR\_STATE\_SVC"};
175   m_pCollectorStateInfo = \textcolor{keyword}{new} DimUpdatedInfo( (\textcolor{keywordtype}{char} *) serviceName.c\_str(), STOPPED\_STATE , this );
176 
177   m_isConnected = \textcolor{keyword}{true};
178 
179   \textcolor{keywordflow}{return} STATUS\_CODE\_SUCCESS;
180 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!disconnect\+From\+Service@{disconnect\+From\+Service}}
\index{disconnect\+From\+Service@{disconnect\+From\+Service}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{disconnect\+From\+Service}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Status\+Code} dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::disconnect\+From\+Service (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classdqm4hep_1_1DQMMonitorElementSender_a6702d1a4ff84aa6b9d56d10fa87aceca}


Disconnect the sender to the collector. 



Definition at line 184 of file D\+Q\+M\+Monitor\+Element\+Sender.\+cc.



References is\+Connected\+To\+Service(), m\+\_\+is\+Connected, m\+\_\+p\+Collector\+State\+Info, and m\+\_\+p\+Subscribed\+List\+Info.


\begin{DoxyCode}
185 \{
186   \textcolor{keywordflow}{if}( ! this->isConnectedToService() )
187     \textcolor{keywordflow}{return} STATUS\_CODE\_SUCCESS;
188 
189   \textcolor{keyword}{delete} m_pSubscribedListInfo;
190   \textcolor{keyword}{delete} m_pCollectorStateInfo;
191 
192   m_isConnected = \textcolor{keyword}{false};
193 
194   \textcolor{keywordflow}{return} STATUS\_CODE\_SUCCESS;
195 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!info\+Handler@{info\+Handler}}
\index{info\+Handler@{info\+Handler}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{info\+Handler}]{\setlength{\rightskip}{0pt plus 5cm}void dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::info\+Handler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementSender_abd378b9333033de8c497c751a1d8acea}


Definition at line 206 of file D\+Q\+M\+Monitor\+Element\+Sender.\+cc.



References dqm4hep\+::\+D\+E\+B\+U\+G, m\+\_\+in\+Data\+Stream, m\+\_\+mutex, m\+\_\+p\+Collector\+State\+Info, m\+\_\+p\+Subscribed\+List\+Info, m\+\_\+send\+Available\+Me\+List, m\+\_\+subscribed\+Me\+List, dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::read(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::reset(), and dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::set\+Buffer().


\begin{DoxyCode}
207 \{
208   DimInfo *pInfo = getInfo();
209 
210   streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Received info : "} << pInfo->getName() << std::endl;
211 
212   \textcolor{keywordflow}{if}(pInfo == m_pSubscribedListInfo)
213   \{
214     dqm_char *pBuffer = (dqm_char *) m_pSubscribedListInfo->getData();
215     dqm_uint bufferSize = m_pSubscribedListInfo->getSize();
216 
217     \textcolor{keywordflow}{if}(!pBuffer || bufferSize == 0)
218       \textcolor{keywordflow}{return};
219 
220     m_inDataStream.reset();
221     m_inDataStream.setBuffer(pBuffer, bufferSize);
222 
223     StringVector subscribedMeList;
224     dqm_uint size;
225 
226     \textcolor{keywordflow}{if}(STATUS\_CODE\_SUCCESS != m_inDataStream.read(size))
227     \{
228       m_inDataStream.reset();
229       \textcolor{keywordflow}{return};
230     \}
231 
232     subscribedMeList.resize(size);
233 
234     \textcolor{keywordflow}{for}(dqm_uint i=0 ; i<size ; i++)
235     \{
236       \textcolor{keywordflow}{if}(STATUS\_CODE\_SUCCESS != m_inDataStream.read(subscribedMeList[i]))
237       \{
238         m_inDataStream.reset();
239         \textcolor{keywordflow}{return};
240       \}
241     \}
242 
243     \textcolor{comment}{// update the list}
244     pthread\_mutex\_lock(&m_mutex);
245     std::cout << \textcolor{stringliteral}{"Received subscribed list size : "} << subscribedMeList.size() << std::endl;
246     m_subscribedMeList.clear();
247     m_subscribedMeList.insert( subscribedMeList.begin(), subscribedMeList.end() );
248     pthread\_mutex\_unlock(&m_mutex);
249   \}
250   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(pInfo == m_pCollectorStateInfo)
251   \{
252     \textcolor{keywordflow}{if}(m_pCollectorStateInfo->getInt() == RUNNING\_STATE)
253     \{
254       streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Force update available list on next EOC !"} << std::endl;
255 
256       pthread\_mutex\_lock(&m_mutex);
257       m_sendAvailableMeList = \textcolor{keyword}{true};
258       pthread\_mutex\_unlock(&m_mutex);
259     \}
260     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(m_pCollectorStateInfo->getInt() == STOPPED\_STATE)
261     \{
262       streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Server is down -> Clearing subscribed me list !"} << std::endl;
263 
264       pthread\_mutex\_lock(&m_mutex);
265       m_subscribedMeList.clear();
266       pthread\_mutex\_unlock(&m_mutex);
267     \}
268   \}
269 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!is\+Connected\+To\+Service@{is\+Connected\+To\+Service}}
\index{is\+Connected\+To\+Service@{is\+Connected\+To\+Service}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{is\+Connected\+To\+Service}]{\setlength{\rightskip}{0pt plus 5cm}bool dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::is\+Connected\+To\+Service (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\label{classdqm4hep_1_1DQMMonitorElementSender_a152ed9fdf7fc42227c3fb132dce1ac14}


Whether the sender is connected to the collector. 



Definition at line 199 of file D\+Q\+M\+Monitor\+Element\+Sender.\+cc.



References m\+\_\+is\+Connected.



Referenced by connect\+To\+Service(), disconnect\+From\+Service(), set\+Collector\+Name(), and dqm4hep\+::\+D\+Q\+M\+Analysis\+Module\+Application\+::stop\+Services().


\begin{DoxyCode}
200 \{
201   \textcolor{keywordflow}{return} m_isConnected;
202 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!remove\+Available\+Monitor\+Element@{remove\+Available\+Monitor\+Element}}
\index{remove\+Available\+Monitor\+Element@{remove\+Available\+Monitor\+Element}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{remove\+Available\+Monitor\+Element}]{\setlength{\rightskip}{0pt plus 5cm}void dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::remove\+Available\+Monitor\+Element (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{monitor\+Element\+Name}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementSender_afb757f67a88a6048eb706206422917d2}


Definition at line 305 of file D\+Q\+M\+Monitor\+Element\+Sender.\+cc.



References m\+\_\+available\+Me\+Map, and m\+\_\+send\+Available\+Me\+List.



Referenced by dqm4hep\+::\+D\+Q\+M\+Module\+Api\+::delete\+Monitor\+Element().


\begin{DoxyCode}
306 \{
307   DQMMonitorElementInfoMap::iterator findIter = m_availableMeMap.find(monitorElementName);
308 
309   \textcolor{keywordflow}{if}(findIter == m_availableMeMap.end())
310     \textcolor{keywordflow}{return};
311 
312   \textcolor{comment}{// do it baby !}
313   m_availableMeMap.erase(findIter);
314 
315   \textcolor{comment}{// for future update on the collector side}
316   m_sendAvailableMeList = \textcolor{keyword}{true};
317 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!send\+Available\+Monitor\+Element\+List@{send\+Available\+Monitor\+Element\+List}}
\index{send\+Available\+Monitor\+Element\+List@{send\+Available\+Monitor\+Element\+List}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{send\+Available\+Monitor\+Element\+List}]{\setlength{\rightskip}{0pt plus 5cm}void dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::send\+Available\+Monitor\+Element\+List (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementSender_af775468764185457d67d07bfc2316026}


Definition at line 321 of file D\+Q\+M\+Monitor\+Element\+Sender.\+cc.



References dqm4hep\+::\+E\+R\+R\+O\+R, dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::get\+Buffer(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::get\+Buffer\+Size(), dqm4hep\+::\+D\+Q\+M\+Module\+Application\+::get\+Module(), dqm4hep\+::\+D\+Q\+M\+Module\+::get\+Name(), dqm4hep\+::\+Status\+Code\+Exception\+::get\+Status\+Code(), m\+\_\+available\+Me\+Map, m\+\_\+collector\+Name, m\+\_\+data\+Stream, m\+\_\+p\+Application, dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::reset(), dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Info\+List\+::serialize(), T\+H\+R\+O\+W\+\_\+\+R\+E\+S\+U\+L\+T\+\_\+\+I\+F, and dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::write().



Referenced by send\+Monitor\+Elements().


\begin{DoxyCode}
322 \{
323   \textcolor{keywordflow}{if}(m_availableMeMap.empty())
324     \textcolor{keywordflow}{return};
325 
326   DQMMonitorElementInfoList monitorElementInfoList;
327 
328   \textcolor{keywordflow}{for}(DQMMonitorElementInfoMap::iterator iter = m_availableMeMap.begin(), endIter = 
      m_availableMeMap.end() ;
329       endIter != iter ; ++iter)
330     monitorElementInfoList.push\_back(iter->second);
331 
332   \textcolor{keywordflow}{try}
333   \{
334     m_dataStream.reset();
335 
336     \textcolor{comment}{// first write the module name}
337     THROW_RESULT_IF(STATUS\_CODE\_SUCCESS, !=, m_dataStream.write(m_pApplication->
      getModule()->getName()));
338 
339     \textcolor{comment}{// write the monitor element info list}
340     THROW_RESULT_IF(STATUS\_CODE\_SUCCESS, !=, monitorElementInfoList.serialize(&
      m_dataStream));
341 
342     \textcolor{comment}{// send the packet !}
343     std::string commandName = \textcolor{stringliteral}{"DQM4HEP/MonitorElementCollector/"} + 
      m_collectorName + \textcolor{stringliteral}{"/AVAILABLE\_ME\_CMD"};
344     DimClient::sendCommandNB( commandName.c\_str() , (\textcolor{keywordtype}{void} *) m_dataStream.
      getBuffer() , m_dataStream.getBufferSize() );
345   \}
346   \textcolor{keywordflow}{catch}(\textcolor{keyword}{const} StatusCodeException &exception)
347   \{
348     streamlog\_out(ERROR) << \textcolor{stringliteral}{"Couldn't send available monitor element info list : "} << exception.
      getStatusCode() << std::endl;
349   \}
350 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!send\+Monitor\+Elements@{send\+Monitor\+Elements}}
\index{send\+Monitor\+Elements@{send\+Monitor\+Elements}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{send\+Monitor\+Elements}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Status\+Code} dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::send\+Monitor\+Elements (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classdqm4hep_1_1DQMMonitorElementSender_a48fc230406a3c070d67a91e56a7f4fc6}


Send the subscribed monitor element to the collector. 



Definition at line 75 of file D\+Q\+M\+Monitor\+Element\+Sender.\+cc.



References dqm4hep\+::\+D\+E\+B\+U\+G, dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::get\+Buffer(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::get\+Buffer\+Size(), dqm4hep\+::\+D\+Q\+M\+Module\+Application\+::get\+Module(), dqm4hep\+::\+D\+Q\+M\+Module\+Api\+::get\+Monitor\+Element(), dqm4hep\+::\+D\+Q\+M\+Module\+::get\+Name(), m\+\_\+collector\+Name, m\+\_\+data\+Stream, m\+\_\+mutex, m\+\_\+p\+Application, m\+\_\+send\+Available\+Me\+List, m\+\_\+subscribed\+Me\+List, dqm4hep\+::\+M\+E\+S\+S\+A\+G\+E, dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::reset(), R\+E\+T\+U\+R\+N\+\_\+\+R\+E\+S\+U\+L\+T\+\_\+\+I\+F, send\+Available\+Monitor\+Element\+List(), dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Publication\+::serialize(), and dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::write().


\begin{DoxyCode}
76 \{
77   \textcolor{keywordflow}{if}(NULL == m_pApplication)
78     \textcolor{keywordflow}{return} STATUS\_CODE\_NOT\_INITIALIZED;
79 
80   \textcolor{keywordflow}{if}(m_sendAvailableMeList)
81   \{
82     this->sendAvailableMonitorElementList();
83     m_sendAvailableMeList = \textcolor{keyword}{false};
84   \}
85 
86   std::string moduleName = m_pApplication->getModule()->getName();
87 
88   \textcolor{comment}{// get subscribed me list copy}
89   pthread\_mutex\_lock(&m_mutex);
90   StringSet subscribedMeList = m_subscribedMeList;
91   pthread\_mutex\_unlock(&m_mutex);
92 
93   \textcolor{comment}{// if nothing to send, log and return}
94   \textcolor{keywordflow}{if}(subscribedMeList.empty())
95   \{
96     streamlog\_out(MESSAGE) << \textcolor{stringliteral}{"No monitor element sent !"} << std::endl;
97     \textcolor{keywordflow}{return} STATUS\_CODE\_SUCCESS;
98   \}
99 
100   DQMMonitorElementPublication publication;
101 
102   DQMMonitorElementPublication::iterator publicationIter =
103       publication.insert(
104           DQMMonitorElementPublication::value\_type(moduleName, 
      DQMMonitorElementList() ) ).first;
105 
106   \textcolor{comment}{// build the publication to send}
107   streamlog\_out(DEBUG) << \textcolor{stringliteral}{"N subscribed me : "} << subscribedMeList.size() << std::endl;
108 
109   \textcolor{keywordflow}{for}(StringSet::iterator iter = subscribedMeList.begin(), endIter = subscribedMeList.end() ;
110       endIter != iter ; ++iter)
111   \{
112     \textcolor{keywordtype}{size\_t} pos = iter->find\_last\_of(\textcolor{charliteral}{'/'});
113 
114     streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Full me name : "} << *iter << std::endl;
115     streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Last of / pos : "} << pos << std::endl;
116 
117     std::string path;
118     std::string meName;
119 
120     \textcolor{keywordflow}{if}(pos == std::string::npos)
121     \{
122       path = \textcolor{stringliteral}{"/"};
123       meName = *iter;
124     \}
125     \textcolor{keywordflow}{else}
126     \{
127       path = iter->substr(0, pos+1);
128       meName = iter->substr(pos+1);
129     \}
130 
131     streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Me path : "} << path << \textcolor{stringliteral}{" , name : "} << meName << std::endl;
132 
133     \textcolor{keywordflow}{if}(path.empty() || meName.empty())
134       \textcolor{keywordflow}{continue};
135 
136     DQMMonitorElement *pMonitorElement = NULL;
137 
138     \textcolor{keywordflow}{if}(STATUS\_CODE\_SUCCESS !=  DQMModuleApi::getMonitorElement(m_pApplication->
      getModule(), path, meName, pMonitorElement))
139       \textcolor{keywordflow}{continue};
140 
141     streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Found !!"} << std::endl;
142 
143     publicationIter->second.push\_back(pMonitorElement);
144   \}
145 
146   \textcolor{keywordflow}{if}(publication.empty())
147     \textcolor{keywordflow}{return} STATUS\_CODE\_SUCCESS;
148 
149   streamlog\_out(MESSAGE) << \textcolor{stringliteral}{"Number of monitor element sent : "} << publicationIter->second.size() << 
      std::endl;
150 
151   \textcolor{comment}{// write module name}
152   RETURN_RESULT_IF(STATUS\_CODE\_SUCCESS, !=, m_dataStream.write(moduleName));
153 
154   \textcolor{comment}{// stream the whole publication}
155   m_dataStream.reset();
156   RETURN_RESULT_IF(STATUS\_CODE\_SUCCESS, !=, publication.serialize(&m_dataStream));
157 
158   std::string commandName = \textcolor{stringliteral}{"DQM4HEP/MonitorElementCollector/"} + m_collectorName + \textcolor{stringliteral}{"/COLLECT\_ME\_CMD"};
159   DimClient::sendCommandNB(commandName.c\_str(), (\textcolor{keywordtype}{void} *)m_dataStream.getBuffer(), 
      m_dataStream.getBufferSize());
160 
161   \textcolor{keywordflow}{return} STATUS\_CODE\_SUCCESS;
162 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!set\+Collector\+Name@{set\+Collector\+Name}}
\index{set\+Collector\+Name@{set\+Collector\+Name}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{set\+Collector\+Name}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Status\+Code} dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::set\+Collector\+Name (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{collector\+Name}
\end{DoxyParamCaption}
)}\label{classdqm4hep_1_1DQMMonitorElementSender_a5ad32dc517e41cd1d8f272207da58037}


Set the collector name to which the elements will be sent. 



Definition at line 60 of file D\+Q\+M\+Monitor\+Element\+Sender.\+cc.



References is\+Connected\+To\+Service(), and m\+\_\+collector\+Name.



Referenced by dqm4hep\+::\+D\+Q\+M\+Analysis\+Module\+Application\+::configure\+Network(), and dqm4hep\+::\+D\+Q\+M\+Standalone\+Module\+Application\+::read\+Settings().


\begin{DoxyCode}
61 \{
62   \textcolor{keywordflow}{if}(collectorName.empty())
63     \textcolor{keywordflow}{return} STATUS\_CODE\_INVALID\_PARAMETER;
64 
65   \textcolor{keywordflow}{if}(this->isConnectedToService())
66     \textcolor{keywordflow}{return} STATUS\_CODE\_NOT\_ALLOWED;
67 
68   m_collectorName = collectorName;
69 
70   \textcolor{keywordflow}{return} STATUS\_CODE\_SUCCESS;
71 \}
\end{DoxyCode}


\subsection{Friends And Related Function Documentation}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!D\+Q\+M\+Module\+Api@{D\+Q\+M\+Module\+Api}}
\index{D\+Q\+M\+Module\+Api@{D\+Q\+M\+Module\+Api}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{D\+Q\+M\+Module\+Api}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf D\+Q\+M\+Module\+Api}\hspace{0.3cm}{\ttfamily [friend]}}\label{classdqm4hep_1_1DQMMonitorElementSender_a34f448c0d2a0a6cbec1a2d2414bc2231}


Definition at line 48 of file D\+Q\+M\+Monitor\+Element\+Sender.\+h.



\subsection{Member Data Documentation}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!m\+\_\+available\+Me\+Map@{m\+\_\+available\+Me\+Map}}
\index{m\+\_\+available\+Me\+Map@{m\+\_\+available\+Me\+Map}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{m\+\_\+available\+Me\+Map}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\+Q\+M\+Monitor\+Element\+Info\+Map} dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::m\+\_\+available\+Me\+Map\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementSender_a98ec70ac096ed0b3c67dbe4d726491ba}


The available monitor element list. 



Definition at line 107 of file D\+Q\+M\+Monitor\+Element\+Sender.\+h.



Referenced by add\+Available\+Monitor\+Element(), remove\+Available\+Monitor\+Element(), and send\+Available\+Monitor\+Element\+List().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!m\+\_\+collector\+Name@{m\+\_\+collector\+Name}}
\index{m\+\_\+collector\+Name@{m\+\_\+collector\+Name}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{m\+\_\+collector\+Name}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::m\+\_\+collector\+Name\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementSender_a280d02086b3db533722699fecf715b1f}


The collector name to which the monitor elements will be sent. 



Definition at line 100 of file D\+Q\+M\+Monitor\+Element\+Sender.\+h.



Referenced by connect\+To\+Service(), send\+Available\+Monitor\+Element\+List(), send\+Monitor\+Elements(), and set\+Collector\+Name().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!m\+\_\+data\+Stream@{m\+\_\+data\+Stream}}
\index{m\+\_\+data\+Stream@{m\+\_\+data\+Stream}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{m\+\_\+data\+Stream}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\+Q\+M\+Data\+Stream} dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::m\+\_\+data\+Stream\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementSender_a610f6f85b041e36e19344b1d0bb4b05f}


The data stream used to serialize the monitor elements. 



Definition at line 102 of file D\+Q\+M\+Monitor\+Element\+Sender.\+h.



Referenced by send\+Available\+Monitor\+Element\+List(), and send\+Monitor\+Elements().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!m\+\_\+in\+Data\+Stream@{m\+\_\+in\+Data\+Stream}}
\index{m\+\_\+in\+Data\+Stream@{m\+\_\+in\+Data\+Stream}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{m\+\_\+in\+Data\+Stream}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\+Q\+M\+Data\+Stream} dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::m\+\_\+in\+Data\+Stream\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementSender_a017eccdd797e4b3cc95d6f9ca5b0f093}


The data stream used to serialize dim info. 



Definition at line 103 of file D\+Q\+M\+Monitor\+Element\+Sender.\+h.



Referenced by connect\+To\+Service(), and info\+Handler().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!m\+\_\+is\+Connected@{m\+\_\+is\+Connected}}
\index{m\+\_\+is\+Connected@{m\+\_\+is\+Connected}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{m\+\_\+is\+Connected}]{\setlength{\rightskip}{0pt plus 5cm}bool dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::m\+\_\+is\+Connected\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementSender_aed9adf9a6980c0a8f02a8b0014b94413}


Whether the sender is connected to the collector. 



Definition at line 110 of file D\+Q\+M\+Monitor\+Element\+Sender.\+h.



Referenced by connect\+To\+Service(), disconnect\+From\+Service(), and is\+Connected\+To\+Service().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!m\+\_\+mutex@{m\+\_\+mutex}}
\index{m\+\_\+mutex@{m\+\_\+mutex}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{m\+\_\+mutex}]{\setlength{\rightskip}{0pt plus 5cm}pthread\+\_\+mutex\+\_\+t dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::m\+\_\+mutex\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementSender_a57aa86298e6b1e95f4f4459c734242f6}


Mutex to lock unlock on service update. 



Definition at line 108 of file D\+Q\+M\+Monitor\+Element\+Sender.\+h.



Referenced by D\+Q\+M\+Monitor\+Element\+Sender(), info\+Handler(), send\+Monitor\+Elements(), and $\sim$\+D\+Q\+M\+Monitor\+Element\+Sender().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!m\+\_\+p\+Application@{m\+\_\+p\+Application}}
\index{m\+\_\+p\+Application@{m\+\_\+p\+Application}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{m\+\_\+p\+Application}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\+Q\+M\+Module\+Application}$\ast$ dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::m\+\_\+p\+Application\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementSender_ac35f8583da4e217df97072c5ca226dbe}


The module application that sends elements to the collector. 



Definition at line 99 of file D\+Q\+M\+Monitor\+Element\+Sender.\+h.



Referenced by add\+Available\+Monitor\+Element(), send\+Available\+Monitor\+Element\+List(), and send\+Monitor\+Elements().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!m\+\_\+p\+Collector\+State\+Info@{m\+\_\+p\+Collector\+State\+Info}}
\index{m\+\_\+p\+Collector\+State\+Info@{m\+\_\+p\+Collector\+State\+Info}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{m\+\_\+p\+Collector\+State\+Info}]{\setlength{\rightskip}{0pt plus 5cm}Dim\+Updated\+Info$\ast$ dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::m\+\_\+p\+Collector\+State\+Info\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementSender_ae6aa6d838d6cb6626e37c723e1465d40}


The dim info to receive when the collector state changes. 



Definition at line 113 of file D\+Q\+M\+Monitor\+Element\+Sender.\+h.



Referenced by connect\+To\+Service(), disconnect\+From\+Service(), and info\+Handler().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!m\+\_\+p\+Subscribed\+List\+Info@{m\+\_\+p\+Subscribed\+List\+Info}}
\index{m\+\_\+p\+Subscribed\+List\+Info@{m\+\_\+p\+Subscribed\+List\+Info}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{m\+\_\+p\+Subscribed\+List\+Info}]{\setlength{\rightskip}{0pt plus 5cm}Dim\+Updated\+Info$\ast$ dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::m\+\_\+p\+Subscribed\+List\+Info\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementSender_af17986098f58c4088f5f678c9bca7a34}


The dim info to receive subscribed me list from collector. 



Definition at line 112 of file D\+Q\+M\+Monitor\+Element\+Sender.\+h.



Referenced by connect\+To\+Service(), disconnect\+From\+Service(), and info\+Handler().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!m\+\_\+send\+Available\+Me\+List@{m\+\_\+send\+Available\+Me\+List}}
\index{m\+\_\+send\+Available\+Me\+List@{m\+\_\+send\+Available\+Me\+List}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{m\+\_\+send\+Available\+Me\+List}]{\setlength{\rightskip}{0pt plus 5cm}bool dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::m\+\_\+send\+Available\+Me\+List\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementSender_a6eb7b75c09ad3c2e07bcd783a30dccf8}


Whether the list of available me has to be re-\/sent to the collector. 



Definition at line 109 of file D\+Q\+M\+Monitor\+Element\+Sender.\+h.



Referenced by add\+Available\+Monitor\+Element(), info\+Handler(), remove\+Available\+Monitor\+Element(), and send\+Monitor\+Elements().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}!m\+\_\+subscribed\+Me\+List@{m\+\_\+subscribed\+Me\+List}}
\index{m\+\_\+subscribed\+Me\+List@{m\+\_\+subscribed\+Me\+List}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender}}
\subsubsection[{m\+\_\+subscribed\+Me\+List}]{\setlength{\rightskip}{0pt plus 5cm}{\bf String\+Set} dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Sender\+::m\+\_\+subscribed\+Me\+List\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementSender_a5b50c5084bf2fc960ce94b1af671f963}


The subscribed monitor element list. 



Definition at line 106 of file D\+Q\+M\+Monitor\+Element\+Sender.\+h.



Referenced by info\+Handler(), and send\+Monitor\+Elements().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
{\bf D\+Q\+M\+Monitor\+Element\+Sender.\+h}\item 
{\bf D\+Q\+M\+Monitor\+Element\+Sender.\+cc}\end{DoxyCompactItemize}
