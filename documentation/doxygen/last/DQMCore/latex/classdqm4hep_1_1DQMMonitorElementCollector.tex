\section{dqm4hep\+:\+:D\+Q\+M\+Monitor\+Element\+Collector Class Reference}
\label{classdqm4hep_1_1DQMMonitorElementCollector}\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}


\doxyref{D\+Q\+M\+Monitor\+Element\+Collector}{p.}{classdqm4hep_1_1DQMMonitorElementCollector} class.  




{\ttfamily \#include $<$D\+Q\+M\+Monitor\+Element\+Collector.\+h$>$}

Inheritance diagram for dqm4hep\+:\+:D\+Q\+M\+Monitor\+Element\+Collector\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classdqm4hep_1_1DQMMonitorElementCollector}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef std\+::map$<$ std\+::string, \\*
{\bf D\+Q\+M\+Monitor\+Element\+List} $>$ {\bf D\+Q\+M\+Monitor\+Element\+List\+Map}
\begin{DoxyCompactList}\small\item\em Module name to element list map. \end{DoxyCompactList}\item 
typedef std\+::map$<$ std\+::string, \\*
{\bf Module\+Me\+Info} $\ast$ $>$ {\bf Module\+Me\+Info\+Map}
\begin{DoxyCompactList}\small\item\em Module element storage. \end{DoxyCompactList}\item 
typedef std\+::set\\*
$<$ {\bf D\+Q\+M\+Monitor\+Element} $\ast$ $>$ {\bf D\+Q\+M\+Monitor\+Element\+Set}
\item 
typedef std\+::map$<$ int, \\*
{\bf D\+Q\+M\+Monitor\+Element\+Set} $>$ {\bf Client\+Update\+Map}
\begin{DoxyCompactList}\small\item\em Map of monitor element list to update. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf D\+Q\+M\+Monitor\+Element\+Collector} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
{\bf $\sim$\+D\+Q\+M\+Monitor\+Element\+Collector} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
{\bf Status\+Code} {\bf set\+Collector\+Name} (const std\+::string \&collector\+Name)
\begin{DoxyCompactList}\small\item\em Set the collector name. \end{DoxyCompactList}\item 
const std\+::string \& {\bf get\+Collector\+Name} () const 
\begin{DoxyCompactList}\small\item\em Get the collector name. \end{DoxyCompactList}\item 
{\bf Status\+Code} {\bf start} ()
\begin{DoxyCompactList}\small\item\em Start the collector. \end{DoxyCompactList}\item 
{\bf Status\+Code} {\bf stop} ()
\begin{DoxyCompactList}\small\item\em Stop the collector. \end{DoxyCompactList}\item 
{\bf D\+Q\+M\+State} {\bf get\+State} () const 
\begin{DoxyCompactList}\small\item\em Get the collector state. \end{DoxyCompactList}\item 
bool {\bf is\+Running} () const 
\begin{DoxyCompactList}\small\item\em Whether the collector is running. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static const std\+::string {\bf m\+\_\+empty\+Buffer\+Str} = \char`\"{}E\+M\+P\+T\+Y\char`\"{}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void {\bf command\+Handler} ()
\begin{DoxyCompactList}\small\item\em Dim command handler. \end{DoxyCompactList}\item 
void {\bf client\+Exit\+Handler} ()
\begin{DoxyCompactList}\small\item\em Dim client exit handler. \end{DoxyCompactList}\item 
void {\bf update\+Clients} (const {\bf Client\+Update\+Map} \&client\+Update\+Map, bool force\+Update=false)
\begin{DoxyCompactList}\small\item\em Update client side with the monitor elements. \end{DoxyCompactList}\item 
void {\bf handle\+Me\+Collect\+Update} (Dim\+Command $\ast$p\+Command)
\begin{DoxyCompactList}\small\item\em Handle the monitor element packet reception from a module application. \end{DoxyCompactList}\item 
void {\bf handle\+Available\+List\+Update} (Dim\+Command $\ast$p\+Command)
\begin{DoxyCompactList}\small\item\em Handle the available list of monitor element on module side. \end{DoxyCompactList}\item 
void {\bf handle\+Client\+Subscription} (int client\+I\+D, Dim\+Command $\ast$p\+Command)
\begin{DoxyCompactList}\small\item\em Handle a client subscription. \end{DoxyCompactList}\item 
void {\bf handle\+Client\+Unsubscription} (int client\+I\+D, Dim\+Command $\ast$p\+Command)
\begin{DoxyCompactList}\small\item\em Handle a client unsubscription. \end{DoxyCompactList}\item 
void {\bf handle\+Client\+Update\+Mode} (int client\+Id, bool update\+Mode)
\begin{DoxyCompactList}\small\item\em Handle client automatic update mode. \end{DoxyCompactList}\item 
void {\bf handle\+Client\+Request\+List} (int client\+Id, Dim\+Command $\ast$p\+Command)
\begin{DoxyCompactList}\small\item\em Handle client me name request list update. \end{DoxyCompactList}\item 
void {\bf handle\+Me\+Query} (int client\+Id, Dim\+Command $\ast$p\+Command)
\begin{DoxyCompactList}\small\item\em Handle the me query of target client id. \end{DoxyCompactList}\item 
void {\bf send\+Me\+Update} (int client\+I\+D)
\begin{DoxyCompactList}\small\item\em Update the monitor element publication service for a specific client. \end{DoxyCompactList}\item 
void {\bf notify\+Watched\+Me} (const std\+::string \&module\+Name)
\begin{DoxyCompactList}\small\item\em Notify the module that users are watching a different set of monitor elements provided by the module. \end{DoxyCompactList}\item 
bool {\bf register\+Client} (int client\+Id)
\begin{DoxyCompactList}\small\item\em Register a monitor element client. \end{DoxyCompactList}\item 
bool {\bf register\+Client} (int client\+Id, const std\+::string module\+Name)
\begin{DoxyCompactList}\small\item\em Register a module client. \end{DoxyCompactList}\item 
bool {\bf deregister\+Client} (int client\+Id)
\begin{DoxyCompactList}\small\item\em De-\/register a client. \end{DoxyCompactList}\item 
int {\bf get\+Module\+Client\+I\+D} (const std\+::string \&module\+Name) const 
\begin{DoxyCompactList}\small\item\em Get the module client I\+D. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::string {\bf m\+\_\+collector\+Name}
\item 
{\bf D\+Q\+M\+Monitor\+Element\+Name\+List\+Rpc} $\ast$ {\bf m\+\_\+p\+Monitor\+Element\+Name\+List\+Rpc}
\item 
{\bf D\+Q\+M\+Monitor\+Element\+Collector\+Info\+Rpc} $\ast$ {\bf m\+\_\+p\+Monitor\+Element\+Collector\+Info\+Rpc}
\item 
Dim\+Command $\ast$ {\bf m\+\_\+p\+Collect\+Me\+Command}
\item 
Dim\+Command $\ast$ {\bf m\+\_\+p\+Available\+Me\+List\+Command}
\item 
Dim\+Command $\ast$ {\bf m\+\_\+p\+Me\+Query\+Command}
\item 
Dim\+Command $\ast$ {\bf m\+\_\+p\+Set\+Update\+Mode\+Command}
\item 
Dim\+Command $\ast$ {\bf m\+\_\+p\+Subscribe\+Command}
\item 
Dim\+Command $\ast$ {\bf m\+\_\+p\+Unsubscribe\+Command}
\item 
Dim\+Command $\ast$ {\bf m\+\_\+p\+Set\+Subscription\+Command}
\item 
Dim\+Command $\ast$ {\bf m\+\_\+p\+Query\+Subscribed\+Command}
\item 
Dim\+Service $\ast$ {\bf m\+\_\+p\+Me\+Update\+Service}
\item 
Dim\+Service $\ast$ {\bf m\+\_\+p\+Notify\+Watched\+Me\+Service}
\item 
Dim\+Service $\ast$ {\bf m\+\_\+p\+Collector\+State\+Service}
\item 
{\bf D\+Q\+M\+Statistics\+Service} $\ast$ {\bf m\+\_\+p\+Statistics\+Service}
\item 
int {\bf m\+\_\+collector\+State}
\item 
{\bf D\+Q\+M\+Data\+Stream} {\bf m\+\_\+data\+Stream}
\begin{DoxyCompactList}\small\item\em To deserialize incoming monitor elements from modules. \end{DoxyCompactList}\item 
{\bf Module\+Me\+Info\+Map} {\bf m\+\_\+module\+Me\+Info\+Map}
\item 
{\bf Client\+Map} {\bf m\+\_\+client\+Map}
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class {\bf D\+Q\+M\+Collector\+Command\+Handler}
\item 
class {\bf D\+Q\+M\+Monitor\+Element\+Name\+List\+Rpc}
\item 
class {\bf D\+Q\+M\+Monitor\+Element\+Collector\+Info\+Rpc}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\doxyref{D\+Q\+M\+Monitor\+Element\+Collector}{p.}{classdqm4hep_1_1DQMMonitorElementCollector} class. 

Definition at line 219 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



\subsection{Member Typedef Documentation}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!Client\+Update\+Map@{Client\+Update\+Map}}
\index{Client\+Update\+Map@{Client\+Update\+Map}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{Client\+Update\+Map}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<$int, {\bf D\+Q\+M\+Monitor\+Element\+Set}$>$ {\bf dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::\+Client\+Update\+Map}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a0ddbc799bd0481470678225b5f61c960}


Map of monitor element list to update. 



Definition at line 259 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!D\+Q\+M\+Monitor\+Element\+List\+Map@{D\+Q\+M\+Monitor\+Element\+List\+Map}}
\index{D\+Q\+M\+Monitor\+Element\+List\+Map@{D\+Q\+M\+Monitor\+Element\+List\+Map}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{D\+Q\+M\+Monitor\+Element\+List\+Map}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<$std\+::string, {\bf D\+Q\+M\+Monitor\+Element\+List}$>$ {\bf dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::\+D\+Q\+M\+Monitor\+Element\+List\+Map}}\label{classdqm4hep_1_1DQMMonitorElementCollector_ae0b6153b92b1b0763facac7b03586ad5}


Module name to element list map. 



Definition at line 256 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!D\+Q\+M\+Monitor\+Element\+Set@{D\+Q\+M\+Monitor\+Element\+Set}}
\index{D\+Q\+M\+Monitor\+Element\+Set@{D\+Q\+M\+Monitor\+Element\+Set}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{D\+Q\+M\+Monitor\+Element\+Set}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::set$<${\bf D\+Q\+M\+Monitor\+Element} $\ast$$>$ {\bf dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::\+D\+Q\+M\+Monitor\+Element\+Set}}\label{classdqm4hep_1_1DQMMonitorElementCollector_aa45a79267da930e4b7d9e7102a3b24e8}


Definition at line 258 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!Module\+Me\+Info\+Map@{Module\+Me\+Info\+Map}}
\index{Module\+Me\+Info\+Map@{Module\+Me\+Info\+Map}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{Module\+Me\+Info\+Map}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::map$<$std\+::string, {\bf Module\+Me\+Info} $\ast$$>$ {\bf dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::\+Module\+Me\+Info\+Map}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a36bd1931049b242e8a1a1ebfbdfc8692}


Module element storage. 



Definition at line 257 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!D\+Q\+M\+Monitor\+Element\+Collector@{D\+Q\+M\+Monitor\+Element\+Collector}}
\index{D\+Q\+M\+Monitor\+Element\+Collector@{D\+Q\+M\+Monitor\+Element\+Collector}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{D\+Q\+M\+Monitor\+Element\+Collector}]{\setlength{\rightskip}{0pt plus 5cm}dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::\+D\+Q\+M\+Monitor\+Element\+Collector (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classdqm4hep_1_1DQMMonitorElementCollector_abb155cebbc9e0d8bc3b567f320d4d38e}


Constructor. 



Definition at line 390 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References m\+\_\+data\+Stream, m\+\_\+empty\+Buffer\+Str, and dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::write().


\begin{DoxyCode}
390                                                        :
391     m_collectorName(\textcolor{stringliteral}{"DEFAULT"}),
392     m_collectorState(STOPPED\_STATE),
393     m_pMonitorElementNameListRpc(NULL),
394     m_pMonitorElementCollectorInfoRpc(NULL),
395     m_dataStream(5*1024*1024)
396 \{
397   m_dataStream.write(m_emptyBufferStr);
398 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!````~D\+Q\+M\+Monitor\+Element\+Collector@{$\sim$\+D\+Q\+M\+Monitor\+Element\+Collector}}
\index{````~D\+Q\+M\+Monitor\+Element\+Collector@{$\sim$\+D\+Q\+M\+Monitor\+Element\+Collector}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{$\sim$\+D\+Q\+M\+Monitor\+Element\+Collector}]{\setlength{\rightskip}{0pt plus 5cm}dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::$\sim$\+D\+Q\+M\+Monitor\+Element\+Collector (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classdqm4hep_1_1DQMMonitorElementCollector_a66db2fc0198647847e7cd0be0e18c856}


Destructor. 



Definition at line 402 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References is\+Running(), and stop().


\begin{DoxyCode}
403 \{
404   \textcolor{keywordflow}{if}(isRunning())
405     stop();
406 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!client\+Exit\+Handler@{client\+Exit\+Handler}}
\index{client\+Exit\+Handler@{client\+Exit\+Handler}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{client\+Exit\+Handler}]{\setlength{\rightskip}{0pt plus 5cm}void dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::client\+Exit\+Handler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_afc9a40df0cb6ca739468c6b6ae67a7c6}


Dim client exit handler. 



Definition at line 617 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References deregister\+Client().


\begin{DoxyCode}
618 \{
619   \textcolor{keywordtype}{int} clientId = getClientId();
620   this->deregisterClient(clientId);
621 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!command\+Handler@{command\+Handler}}
\index{command\+Handler@{command\+Handler}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{command\+Handler}]{\setlength{\rightskip}{0pt plus 5cm}void dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::command\+Handler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_aa50cbeceebf819e89d34c171a02dfee9}


Dim command handler. 



Definition at line 577 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References handle\+Available\+List\+Update(), handle\+Client\+Request\+List(), handle\+Client\+Subscription(), handle\+Client\+Unsubscription(), handle\+Client\+Update\+Mode(), handle\+Me\+Collect\+Update(), handle\+Me\+Query(), m\+\_\+p\+Available\+Me\+List\+Command, m\+\_\+p\+Collect\+Me\+Command, m\+\_\+p\+Me\+Query\+Command, m\+\_\+p\+Set\+Subscription\+Command, m\+\_\+p\+Set\+Update\+Mode\+Command, m\+\_\+p\+Subscribe\+Command, and m\+\_\+p\+Unsubscribe\+Command.


\begin{DoxyCode}
578 \{
579   DimCommand *pReceivedCommand = getCommand();
580 
581   std::cout << \textcolor{stringliteral}{"Received command : "} << pReceivedCommand->getName() << std::endl;
582 
583   \textcolor{comment}{// from modules}
584   \textcolor{keywordflow}{if}(pReceivedCommand == m_pCollectMeCommand)
585   \{
586     this->handleMeCollectUpdate(pReceivedCommand);
587   \}
588   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(pReceivedCommand == m_pAvailableMeListCommand)
589   \{
590     this->handleAvailableListUpdate(pReceivedCommand);
591   \}
592   \textcolor{comment}{// from client side}
593   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(pReceivedCommand == m_pMeQueryCommand)
594   \{
595     this->handleMeQuery(getClientId(), m_pMeQueryCommand);
596   \}
597   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(pReceivedCommand == m_pSetUpdateModeCommand)
598   \{
599     this->handleClientUpdateMode(getClientId(), static\_cast<bool>(pReceivedCommand->getInt()));
600   \}
601   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(pReceivedCommand == m_pSubscribeCommand)
602   \{
603     this->handleClientSubscription(getClientId(), pReceivedCommand);
604   \}
605   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(pReceivedCommand == m_pUnsubscribeCommand)
606   \{
607     this->handleClientUnsubscription(getClientId(), pReceivedCommand);
608   \}
609   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(pReceivedCommand == m_pSetSubscriptionCommand)
610   \{
611     this->handleClientRequestList(getClientId(), pReceivedCommand);
612   \}
613 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!deregister\+Client@{deregister\+Client}}
\index{deregister\+Client@{deregister\+Client}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{deregister\+Client}]{\setlength{\rightskip}{0pt plus 5cm}bool dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::deregister\+Client (
\begin{DoxyParamCaption}
\item[{int}]{client\+Id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a0d2b6bff689b97a17fa946be50cf7d07}


De-\/register a client. 



Definition at line 1183 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References dqm4hep\+::\+D\+E\+B\+U\+G, m\+\_\+client\+Map, m\+\_\+module\+Me\+Info\+Map, and notify\+Watched\+Me().



Referenced by client\+Exit\+Handler().


\begin{DoxyCode}
1184 \{
1185   ClientMap::iterator findIter = m_clientMap.find(clientId);
1186 
1187   \textcolor{keywordflow}{if}(findIter == m_clientMap.end())
1188     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1189 
1190   DimServer::clearClientExitHandler(clientId);
1191 
1192   \textcolor{comment}{// module client case}
1193   \textcolor{keywordflow}{if}(findIter->second.isModule())
1194   \{
1195     std::string moduleName = findIter->second.getModuleName();
1196 
1197     ModuleMeInfoMap::iterator moduleFindIter = m_moduleMeInfoMap.find(moduleName);
1198 
1199     \textcolor{keywordflow}{if}(moduleFindIter != m_moduleMeInfoMap.end())
1200     \{
1201       \textcolor{keyword}{delete} moduleFindIter->second;
1202       m_moduleMeInfoMap.erase(moduleFindIter);
1203     \}
1204 
1205     streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Deregistering module "} << moduleName << \textcolor{stringliteral}{" with client id "} << clientId << 
      std::endl;
1206   \}
1207   \textcolor{comment}{// monitor element client case}
1208   \textcolor{keywordflow}{else}
1209   \{
1210     \textcolor{comment}{// unsubscribe to all element that the client subscribed}
1211     \textcolor{comment}{// this will update the list of watched monitor elements}
1212     \textcolor{comment}{// We then have to notify modules that watched elements are not the same}
1213     \textcolor{keywordflow}{for}(ModuleMeInfoMap::iterator iter = m_moduleMeInfoMap.begin(), endIter = 
      m_moduleMeInfoMap.end() ;
1214         endIter != iter ; ++iter)
1215     \{
1216       \textcolor{comment}{// this returns if at least one element has been removed}
1217       \textcolor{comment}{// from the watched list. Use it to trigger update if necessary}
1218       \textcolor{keywordtype}{bool} updateService = iter->second->unsubscribe(clientId);
1219 
1220       \textcolor{keywordflow}{if}(updateService)
1221         this->notifyWatchedMe(iter->first);
1222     \}
1223 
1224     streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Registering me client "} << clientId << std::endl;
1225   \}
1226 
1227   \textcolor{comment}{// finally remove the client from the map}
1228   m_clientMap.erase(findIter);
1229 
1230   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1231 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!get\+Collector\+Name@{get\+Collector\+Name}}
\index{get\+Collector\+Name@{get\+Collector\+Name}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{get\+Collector\+Name}]{\setlength{\rightskip}{0pt plus 5cm}const std\+::string \& dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::get\+Collector\+Name (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\label{classdqm4hep_1_1DQMMonitorElementCollector_a96715602ee9fe34423d5c2196b6d67c5}


Get the collector name. 



Definition at line 422 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References m\+\_\+collector\+Name.



Referenced by dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+Application\+::get\+Name(), and handle\+Me\+Collect\+Update().


\begin{DoxyCode}
423 \{
424   \textcolor{keywordflow}{return} m_collectorName;
425 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!get\+Module\+Client\+I\+D@{get\+Module\+Client\+I\+D}}
\index{get\+Module\+Client\+I\+D@{get\+Module\+Client\+I\+D}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{get\+Module\+Client\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}int dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::get\+Module\+Client\+I\+D (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{module\+Name}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_adca18d3a975c5cfac472dd8268c61358}


Get the module client I\+D. 

Return 0 is not found (invalid for dim) 

Definition at line 1235 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References m\+\_\+client\+Map.



Referenced by notify\+Watched\+Me().


\begin{DoxyCode}
1236 \{
1237   \textcolor{keywordflow}{for}(ClientMap::const\_iterator iter = m_clientMap.begin(), endIter = 
      m_clientMap.end() ;
1238       endIter != iter ; ++iter)
1239   \{
1240     \textcolor{keywordflow}{if}( ! iter->second.isModule() )
1241       \textcolor{keywordflow}{continue};
1242 
1243     \textcolor{keywordflow}{if}( iter->second.getModuleName() == moduleName )
1244       \textcolor{keywordflow}{return} iter->first;
1245   \}
1246 
1247   \textcolor{keywordflow}{return} 0;
1248 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!get\+State@{get\+State}}
\index{get\+State@{get\+State}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{get\+State}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\+Q\+M\+State} dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::get\+State (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\label{classdqm4hep_1_1DQMMonitorElementCollector_a336b38aa8a7ee6d5cd9b27af5d2d0de7}


Get the collector state. 

See D\+Q\+M\+State enum (\doxyref{D\+Q\+M4\+H\+E\+P.\+h}{p.}{DQM4HEP_8h}) 

Definition at line 537 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References m\+\_\+collector\+State.


\begin{DoxyCode}
538 \{
539   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}DQMState\textcolor{keyword}{>}(m_collectorState);
540 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!handle\+Available\+List\+Update@{handle\+Available\+List\+Update}}
\index{handle\+Available\+List\+Update@{handle\+Available\+List\+Update}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{handle\+Available\+List\+Update}]{\setlength{\rightskip}{0pt plus 5cm}void dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::handle\+Available\+List\+Update (
\begin{DoxyParamCaption}
\item[{Dim\+Command $\ast$}]{p\+Command}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_abae0114a4161a353c2e7c22798c1de99}


Handle the available list of monitor element on module side. 



Definition at line 714 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References dqm4hep\+::\+D\+E\+B\+U\+G, dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Info\+List\+::deserialize(), is\+Running(), m\+\_\+data\+Stream, m\+\_\+module\+Me\+Info\+Map, notify\+Watched\+Me(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::read(), register\+Client(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::reset(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::set\+Buffer(), T\+H\+R\+O\+W\+\_\+\+R\+E\+S\+U\+L\+T\+\_\+\+I\+F, dqm4hep\+::\+Status\+Code\+Exception\+::to\+String(), and dqm4hep\+::\+W\+A\+R\+N\+I\+N\+G.



Referenced by command\+Handler().


\begin{DoxyCode}
715 \{
716   \textcolor{keywordflow}{if}(!this->isRunning())
717     \textcolor{keywordflow}{return};
718 
719   \textcolor{keywordflow}{try}
720   \{
721     dqm_char *pBuffer = \textcolor{keyword}{static\_cast<}dqm_char *\textcolor{keyword}{>}(pCommand->getData());
722     dqm_uint bufferSize = pCommand->getSize();
723 
724     \textcolor{keywordflow}{if}(NULL == pBuffer || 0 == bufferSize)
725       \textcolor{keywordflow}{return};
726 
727     m_dataStream.reset();
728     THROW_RESULT_IF(STATUS\_CODE\_SUCCESS, !=, m_dataStream.setBuffer(pBuffer, bufferSize));
729 
730     \textcolor{comment}{// read the buffer}
731     std::string moduleName;
732     THROW_RESULT_IF(STATUS\_CODE\_SUCCESS, !=, m_dataStream.read(moduleName));
733 
734     \textcolor{keywordflow}{if}(moduleName.empty())
735       \textcolor{keywordflow}{return};
736 
737     DQMMonitorElementInfoList availableMeList;
738     THROW_RESULT_IF(STATUS\_CODE\_SUCCESS, !=, availableMeList.deserialize(&
      m_dataStream));
739 
740     \textcolor{comment}{// register client, even if maybe already registered}
741     \textcolor{keywordtype}{bool} newClient = this->registerClient(getClientId(), moduleName);
742 
743     \textcolor{comment}{// look for module entry to update}
744     ModuleMeInfoMap::iterator findIter = m_moduleMeInfoMap.find(moduleName);
745 
746     \textcolor{comment}{// if not found, add the entry}
747     \textcolor{keywordflow}{if}(findIter == m_moduleMeInfoMap.end())
748       findIter = m_moduleMeInfoMap.insert(ModuleMeInfoMap::value\_type(moduleName, \textcolor{keyword}{new} ModuleMeInfo())).
      first;
749 
750     \textcolor{comment}{// update the entry}
751     findIter->second->setAvailableMeList(availableMeList);
752     streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Received "} << availableMeList.size() << \textcolor{stringliteral}{" available element from module "} << 
      moduleName << std::endl;
753 
754     \textcolor{keywordflow}{if}(newClient)
755       this->notifyWatchedMe(moduleName);
756   \}
757   \textcolor{keywordflow}{catch}(\textcolor{keyword}{const} StatusCodeException &exception)
758   \{
759     streamlog\_out(WARNING) << \textcolor{stringliteral}{"Exception caught : "} << exception.toString() << std::endl;
760   \}
761 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!handle\+Client\+Request\+List@{handle\+Client\+Request\+List}}
\index{handle\+Client\+Request\+List@{handle\+Client\+Request\+List}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{handle\+Client\+Request\+List}]{\setlength{\rightskip}{0pt plus 5cm}void dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::handle\+Client\+Request\+List (
\begin{DoxyParamCaption}
\item[{int}]{client\+Id, }
\item[{Dim\+Command $\ast$}]{p\+Command}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a1d7a8767289c9065dcf5bf8fd873c9f2}


Handle client me name request list update. 



Definition at line 788 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References dqm4hep\+::\+D\+E\+B\+U\+G, is\+Running(), m\+\_\+data\+Stream, m\+\_\+module\+Me\+Info\+Map, notify\+Watched\+Me(), register\+Client(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::reset(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::set\+Buffer(), T\+H\+R\+O\+W\+\_\+\+R\+E\+S\+U\+L\+T\+\_\+\+I\+F, dqm4hep\+::\+Status\+Code\+Exception\+::to\+String(), and dqm4hep\+::\+W\+A\+R\+N\+I\+N\+G.



Referenced by command\+Handler().


\begin{DoxyCode}
789 \{
790   \textcolor{keywordflow}{if}(!this->isRunning())
791     \textcolor{keywordflow}{return};
792 
793   \textcolor{keywordflow}{try}
794   \{
795     dqm_char *pBuffer = \textcolor{keyword}{static\_cast<}dqm_char *\textcolor{keyword}{>}(pCommand->getData());
796     dqm_uint bufferSize = pCommand->getSize();
797 
798     \textcolor{keywordflow}{if}(NULL == pBuffer || 0 == bufferSize)
799       \textcolor{keywordflow}{return};
800 
801     this->registerClient(clientId);
802 
803     m_dataStream.reset();
804     THROW_RESULT_IF(STATUS\_CODE\_SUCCESS, !=, m_dataStream.setBuffer(pBuffer, bufferSize));
805 
806     DQMMonitorElementRequest request;
807     THROW_RESULT_IF(STATUS\_CODE\_SUCCESS, !=, request.deserialize(&m_dataStream));
808 
809     \textcolor{keywordflow}{for}(DQMMonitorElementRequest::iterator iter = request.begin(), endIter = request.end() ;
810         endIter != iter ; ++iter)
811     \{
812       ModuleMeInfoMap::iterator moduleIter = m_moduleMeInfoMap.find(iter->first);
813 
814       \textcolor{keywordflow}{if}(moduleIter == m_moduleMeInfoMap.end())
815         \textcolor{keywordflow}{continue};
816 
817       streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Found module : "} << iter->first << std::endl;
818 
819       \textcolor{comment}{// first unsubscribe to all elements}
820       moduleIter->second->unsubscribe(clientId);
821       moduleIter->second->subscribe(clientId, iter->second);
822 
823       \textcolor{comment}{// in case the subscribed element is different}
824       this->notifyWatchedMe(iter->first);
825     \}
826   \}
827   \textcolor{keywordflow}{catch}(\textcolor{keyword}{const} StatusCodeException &exception)
828   \{
829     streamlog\_out(WARNING) << \textcolor{stringliteral}{"Exception caught : "} << exception.toString() << std::endl;
830   \}
831 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!handle\+Client\+Subscription@{handle\+Client\+Subscription}}
\index{handle\+Client\+Subscription@{handle\+Client\+Subscription}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{handle\+Client\+Subscription}]{\setlength{\rightskip}{0pt plus 5cm}void dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::handle\+Client\+Subscription (
\begin{DoxyParamCaption}
\item[{int}]{client\+I\+D, }
\item[{Dim\+Command $\ast$}]{p\+Command}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_ab8f7e98a8b3ae4f0d0f19c06732995f3}


Handle a client subscription. 



Definition at line 934 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References dqm4hep\+::\+D\+E\+B\+U\+G, is\+Running(), m\+\_\+data\+Stream, m\+\_\+module\+Me\+Info\+Map, notify\+Watched\+Me(), register\+Client(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::reset(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::set\+Buffer(), T\+H\+R\+O\+W\+\_\+\+R\+E\+S\+U\+L\+T\+\_\+\+I\+F, dqm4hep\+::\+Status\+Code\+Exception\+::to\+String(), and dqm4hep\+::\+W\+A\+R\+N\+I\+N\+G.



Referenced by command\+Handler().


\begin{DoxyCode}
935 \{
936   \textcolor{keywordflow}{if}(!this->isRunning())
937     \textcolor{keywordflow}{return};
938 
939   \textcolor{keywordflow}{try}
940   \{
941     dqm_char *pBuffer = \textcolor{keyword}{static\_cast<}dqm_char *\textcolor{keyword}{>}(pCommand->getData());
942     dqm_uint bufferSize = pCommand->getSize();
943 
944     \textcolor{keywordflow}{if}(NULL == pBuffer || 0 == bufferSize)
945       \textcolor{keywordflow}{return};
946 
947     m_dataStream.reset();
948     THROW_RESULT_IF(STATUS\_CODE\_SUCCESS, !=, m_dataStream.setBuffer(pBuffer, bufferSize));
949 
950     DQMMonitorElementRequest request;
951     THROW_RESULT_IF(STATUS\_CODE\_SUCCESS, !=, request.deserialize(&m_dataStream));
952 
953     \textcolor{comment}{// if nothing specified in the request, return}
954     \textcolor{keywordflow}{if}(request.empty())
955     \{
956       streamlog\_out(DEBUG) << \textcolor{stringliteral}{"No element to subscribe !"} << std::endl;
957       \textcolor{keywordflow}{return};
958     \}
959 
960     this->registerClient(clientId);
961 
962     StringSet updateModuleList;
963 
964     \textcolor{keywordflow}{for}(DQMMonitorElementRequest::iterator iter = request.begin(), endIter = request.end() ;
965         endIter != iter ; ++iter)
966     \{
967       ModuleMeInfoMap::iterator moduleIter = m_moduleMeInfoMap.find(iter->first);
968 
969       \textcolor{keywordflow}{if}(moduleIter == m_moduleMeInfoMap.end())
970         \textcolor{keywordflow}{continue};
971 
972       \textcolor{keywordflow}{if}( moduleIter->second->subscribe(clientId, iter->second).second )
973       \{
974         streamlog\_out(DEBUG) << \textcolor{stringliteral}{"New subscription for element : "} << iter->second << std::endl;
975         updateModuleList.insert(iter->first);
976       \}
977     \}
978 
979     \textcolor{keywordflow}{for}(StringSet::iterator iter = updateModuleList.begin(), endIter = updateModuleList.end() ;
980         endIter != iter ; ++iter)
981     \{
982       streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Module "} << *iter << \textcolor{stringliteral}{" notified to send new me list !"} << std::endl;
983       this->notifyWatchedMe(*iter);
984     \}
985   \}
986   \textcolor{keywordflow}{catch}(\textcolor{keyword}{const} StatusCodeException &exception)
987   \{
988     streamlog\_out(WARNING) << \textcolor{stringliteral}{"Exception caught : "} << exception.toString() << std::endl;
989   \}
990 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!handle\+Client\+Unsubscription@{handle\+Client\+Unsubscription}}
\index{handle\+Client\+Unsubscription@{handle\+Client\+Unsubscription}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{handle\+Client\+Unsubscription}]{\setlength{\rightskip}{0pt plus 5cm}void dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::handle\+Client\+Unsubscription (
\begin{DoxyParamCaption}
\item[{int}]{client\+I\+D, }
\item[{Dim\+Command $\ast$}]{p\+Command}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_abddf6cb6ea23398bb78dfe12a65b92f1}


Handle a client unsubscription. 



Definition at line 994 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References dqm4hep\+::\+D\+E\+B\+U\+G, is\+Running(), m\+\_\+data\+Stream, m\+\_\+module\+Me\+Info\+Map, notify\+Watched\+Me(), register\+Client(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::reset(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::set\+Buffer(), T\+H\+R\+O\+W\+\_\+\+R\+E\+S\+U\+L\+T\+\_\+\+I\+F, dqm4hep\+::\+Status\+Code\+Exception\+::to\+String(), and dqm4hep\+::\+W\+A\+R\+N\+I\+N\+G.



Referenced by command\+Handler().


\begin{DoxyCode}
995 \{
996   \textcolor{keywordflow}{if}(!this->isRunning())
997     \textcolor{keywordflow}{return};
998 
999   \textcolor{keywordflow}{try}
1000   \{
1001     dqm_char *pBuffer = \textcolor{keyword}{static\_cast<}dqm_char *\textcolor{keyword}{>}(pCommand->getData());
1002     dqm_uint bufferSize = pCommand->getSize();
1003 
1004     \textcolor{keywordflow}{if}(NULL == pBuffer || 0 == bufferSize)
1005       \textcolor{keywordflow}{return};
1006 
1007     m_dataStream.reset();
1008     THROW_RESULT_IF(STATUS\_CODE\_SUCCESS, !=, m_dataStream.setBuffer(pBuffer, bufferSize));
1009 
1010     DQMMonitorElementRequest request;
1011     THROW_RESULT_IF(STATUS\_CODE\_SUCCESS, !=, request.deserialize(&m_dataStream));
1012 
1013     \textcolor{comment}{// if nothing specified in the request, return}
1014     \textcolor{keywordflow}{if}(request.empty())
1015     \{
1016       streamlog\_out(DEBUG) << \textcolor{stringliteral}{"No element to unsubscribe !"} << std::endl;
1017       \textcolor{keywordflow}{return};
1018     \}
1019 
1020     this->registerClient(clientId);
1021 
1022     StringSet updateModuleList;
1023 
1024     \textcolor{keywordflow}{for}(DQMMonitorElementRequest::iterator iter = request.begin(), endIter = request.end() ;
1025         endIter != iter ; ++iter)
1026     \{
1027       ModuleMeInfoMap::iterator moduleIter = m_moduleMeInfoMap.find(iter->first);
1028 
1029       \textcolor{keywordflow}{if}(moduleIter == m_moduleMeInfoMap.end())
1030         \textcolor{keywordflow}{continue};
1031 
1032       \textcolor{keywordflow}{if}( moduleIter->second->unsubscribe(clientId, iter->second).second )
1033       \{
1034         streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Element un-subscribed : "} << iter->second << std::endl;
1035         updateModuleList.insert(iter->first);
1036       \}
1037     \}
1038 
1039     \textcolor{keywordflow}{for}(StringSet::iterator iter = updateModuleList.begin(), endIter = updateModuleList.end() ;
1040         endIter != iter ; ++iter)
1041     \{
1042       streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Module "} << *iter << \textcolor{stringliteral}{" notified to send new me list !"} << std::endl;
1043       this->notifyWatchedMe(*iter);
1044     \}
1045   \}
1046   \textcolor{keywordflow}{catch}(\textcolor{keyword}{const} StatusCodeException &exception)
1047   \{
1048     streamlog\_out(WARNING) << \textcolor{stringliteral}{"Exception caught : "} << exception.toString() << std::endl;
1049   \}
1050 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!handle\+Client\+Update\+Mode@{handle\+Client\+Update\+Mode}}
\index{handle\+Client\+Update\+Mode@{handle\+Client\+Update\+Mode}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{handle\+Client\+Update\+Mode}]{\setlength{\rightskip}{0pt plus 5cm}void dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::handle\+Client\+Update\+Mode (
\begin{DoxyParamCaption}
\item[{int}]{client\+Id, }
\item[{bool}]{update\+Mode}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a1af55c26439d16bbd36d0fddbd166a95}


Handle client automatic update mode. 



Definition at line 765 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References dqm4hep\+::\+D\+E\+B\+U\+G, m\+\_\+client\+Map, and send\+Me\+Update().



Referenced by command\+Handler().


\begin{DoxyCode}
766 \{
767   ClientMap::iterator findIter = m_clientMap.find(clientId);
768 
769   \textcolor{keywordflow}{if}(findIter != m_clientMap.end())
770   \{
771     \textcolor{keywordflow}{if}( ! findIter->second.hasUpdateMode() && updateMode)
772     \{
773       streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Client no "} << clientId << \textcolor{stringliteral}{" update mode switched ON. Sending updates !"} << 
      std::endl;
774       this->sendMeUpdate(clientId);
775     \}
776 
777     streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Client no "} << clientId << \textcolor{stringliteral}{" setting update mode to "} << updateMode << 
      std::endl;
778     findIter->second.setUpdateMode(updateMode);
779 
780     \textcolor{keywordflow}{return};
781   \}
782 
783   streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Client no "} << clientId << \textcolor{stringliteral}{" not registered !"} << std::endl;
784 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!handle\+Me\+Collect\+Update@{handle\+Me\+Collect\+Update}}
\index{handle\+Me\+Collect\+Update@{handle\+Me\+Collect\+Update}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{handle\+Me\+Collect\+Update}]{\setlength{\rightskip}{0pt plus 5cm}void dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::handle\+Me\+Collect\+Update (
\begin{DoxyParamCaption}
\item[{Dim\+Command $\ast$}]{p\+Command}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a8638605df6c538af4c6afec4a9df077c}


Handle the monitor element packet reception from a module application. 



Definition at line 625 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References dqm4hep\+::\+D\+E\+B\+U\+G, get\+Collector\+Name(), m\+\_\+data\+Stream, m\+\_\+module\+Me\+Info\+Map, m\+\_\+p\+Statistics\+Service, dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::reset(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::set\+Buffer(), T\+H\+R\+O\+W\+\_\+\+R\+E\+S\+U\+L\+T\+\_\+\+I\+F, dqm4hep\+::\+Status\+Code\+Exception\+::to\+String(), dqm4hep\+::\+D\+Q\+M\+Statistics\+Service\+::update(), update\+Clients(), and dqm4hep\+::\+W\+A\+R\+N\+I\+N\+G.



Referenced by command\+Handler().


\begin{DoxyCode}
626 \{
627   \textcolor{keywordflow}{try}
628   \{
629     \textcolor{keywordtype}{char} *pBuffer = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(pCommand->getData());
630     \textcolor{keywordtype}{int} bufferSize = pCommand->getSize();
631 
632     \textcolor{keywordflow}{if}(bufferSize == 0 || NULL == pBuffer)
633     \{
634       streamlog\_out(WARNING) << \textcolor{stringliteral}{"Empty buffer, skipping packet ..."} << std::endl;
635       \textcolor{keywordflow}{throw} StatusCodeException(STATUS\_CODE\_SUCCESS);
636     \}
637 
638     m_dataStream.reset();
639     THROW_RESULT_IF(STATUS\_CODE\_SUCCESS, !=, m_dataStream.setBuffer(pBuffer, bufferSize));
640 
641     DQMMonitorElementPublication publication;
642     THROW_RESULT_IF(STATUS\_CODE\_SUCCESS, !=, publication.deserialize(&
      m_dataStream));
643 
644     \textcolor{keywordflow}{if}(publication.empty())
645     \{
646       streamlog\_out(WARNING) << \textcolor{stringliteral}{"Empty publication, skipping packet ..."} << std::endl;
647       \textcolor{keywordflow}{throw} StatusCodeException(STATUS\_CODE\_SUCCESS);
648     \}
649 
650     \textcolor{keywordtype}{int} nElements = 0;
651     ClientUpdateMap clientUpdateMap;
652 
653     \textcolor{comment}{// update the monitor element with ones received !}
654     \textcolor{comment}{// build the monitor element list to update for each client}
655     \textcolor{keywordflow}{for}(DQMMonitorElementPublication::iterator iter = publication.begin(),
656         endIter = publication.end() ; endIter != iter ; ++iter)
657     \{
658       ModuleMeInfoMap::iterator findIter = m_moduleMeInfoMap.find(iter->first);
659 
660       \textcolor{comment}{// if module not found, clean the monitor elements related to this module}
661       \textcolor{keywordflow}{if}(findIter == m_moduleMeInfoMap.end())
662       \{
663         \textcolor{keywordflow}{for}(DQMMonitorElementList::iterator meIter = iter->second.begin(), meEndIter = iter->second.end() ;
664             meEndIter != meIter ; ++meIter)
665           \textcolor{keyword}{delete} *meIter;
666 
667         \textcolor{keywordflow}{continue};
668       \}
669 
670       \textcolor{comment}{// update monitor elements !}
671       \textcolor{keywordflow}{for}(DQMMonitorElementList::iterator meIter = iter->second.begin(), meEndIter = iter->second.end() ;
672                   meEndIter != meIter ; ++meIter)
673       \{
674         \textcolor{keywordtype}{bool} updated = findIter->second->updateMonitorElement(*meIter);
675 
676         \textcolor{keywordflow}{if}(!updated)
677           \textcolor{keyword}{delete} *meIter;
678 
679         nElements++;
680 
681         (*meIter)->setCollectorName(this->getCollectorName());
682 
683         \textcolor{comment}{// get the client ids that have subscribed to these elements}
684         std::string meFullName = ( (*meIter)->getPath() + (*meIter)->getName() ).getPath();
685 
686         \textcolor{keywordflow}{if}(meFullName.at(0) != \textcolor{charliteral}{'/'})
687           meFullName = \textcolor{stringliteral}{"/"} + meFullName;
688 
689         streamlog\_out(DEBUG) << \textcolor{stringliteral}{"meFullName on collect : "} << meFullName << std::endl;
690         std::set<int> clientIdSet = findIter->second->getSubscribers(meFullName);
691 
692         \textcolor{comment}{// add the monitor element entry into the update map}
693         \textcolor{keywordflow}{for}(std::set<int>::iterator cliIter = clientIdSet.begin(), cliEndIter = clientIdSet.end() ;
694             cliEndIter != cliIter ; ++cliIter)
695         \{
696           clientUpdateMap[*cliIter].insert(*meIter);
697         \}
698       \}
699     \}
700 
701     m_pStatisticsService->update(nElements);
702 
703     streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Received n elements : "} << nElements << \textcolor{stringliteral}{" from "} << publication.size() << \textcolor{stringliteral}{"
       modules"} << std::endl;
704     this->updateClients(clientUpdateMap);
705   \}
706   \textcolor{keywordflow}{catch}(StatusCodeException &exception)
707   \{
708     streamlog\_out(WARNING) << \textcolor{stringliteral}{"Exception caught : "} << exception.toString() << std::endl;
709   \}
710 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!handle\+Me\+Query@{handle\+Me\+Query}}
\index{handle\+Me\+Query@{handle\+Me\+Query}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{handle\+Me\+Query}]{\setlength{\rightskip}{0pt plus 5cm}void dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::handle\+Me\+Query (
\begin{DoxyParamCaption}
\item[{int}]{client\+Id, }
\item[{Dim\+Command $\ast$}]{p\+Command}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_afd9c5a68d5c5213fe2c1ff34501fd832}


Handle the me query of target client id. 



Definition at line 835 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References dqm4hep\+::\+D\+E\+B\+U\+G, dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::get\+Buffer(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::get\+Buffer\+Size(), is\+Running(), m\+\_\+data\+Stream, m\+\_\+module\+Me\+Info\+Map, m\+\_\+p\+Me\+Update\+Service, notify\+Watched\+Me(), register\+Client(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::reset(), send\+Me\+Update(), dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Publication\+::serialize(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::set\+Buffer(), T\+H\+R\+O\+W\+\_\+\+R\+E\+S\+U\+L\+T\+\_\+\+I\+F, dqm4hep\+::\+Status\+Code\+Exception\+::to\+String(), and dqm4hep\+::\+W\+A\+R\+N\+I\+N\+G.



Referenced by command\+Handler().


\begin{DoxyCode}
836 \{
837   \textcolor{keywordflow}{if}(!this->isRunning())
838     \textcolor{keywordflow}{return};
839 
840   \textcolor{keywordflow}{try}
841   \{
842     dqm_char *pBuffer = \textcolor{keyword}{static\_cast<}dqm_char *\textcolor{keyword}{>}(pCommand->getData());
843     dqm_uint bufferSize = pCommand->getSize();
844 
845     \textcolor{keywordflow}{if}(NULL == pBuffer || 0 == bufferSize)
846       \textcolor{keywordflow}{return};
847 
848     m_dataStream.reset();
849     THROW_RESULT_IF(STATUS\_CODE\_SUCCESS, !=, m_dataStream.setBuffer(pBuffer, bufferSize));
850 
851     DQMMonitorElementRequest request;
852     THROW_RESULT_IF(STATUS\_CODE\_SUCCESS, !=, request.deserialize(&m_dataStream));
853 
854     \textcolor{comment}{// if nothing specified in the request, just send updates}
855     \textcolor{keywordflow}{if}(request.empty())
856     \{
857       streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Sending me updates from client query"} << std::endl;
858       this->sendMeUpdate(clientId);
859       \textcolor{keywordflow}{return};
860     \}
861 
862     this->registerClient(clientId);
863 
864     StringSet updateModuleList;
865     DQMMonitorElementPublication monitorElementPublication;
866 
867     streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Request size : "} << request.size() << std::endl;
868 
869     \textcolor{keywordflow}{for}(DQMMonitorElementRequest::iterator iter = request.begin(), endIter = request.end() ;
870         endIter != iter ; ++iter)
871     \{
872       ModuleMeInfoMap::iterator moduleIter = m_moduleMeInfoMap.find(iter->first);
873 
874       \textcolor{keywordflow}{if}(moduleIter == m_moduleMeInfoMap.end())
875         \textcolor{keywordflow}{continue};
876 
877       streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Found module : "} << iter->first << std::endl;
878 
879       \textcolor{comment}{// subscribe to me if not done yet}
880       \textcolor{keywordflow}{if}( moduleIter->second->subscribe(clientId, iter->second).second )
881       \{
882         streamlog\_out(DEBUG) << \textcolor{stringliteral}{"New subscription for element : "} << iter->second << std::endl;
883         updateModuleList.insert(iter->first);
884       \}
885       \textcolor{keywordflow}{else}
886       \{
887         streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Element : "} << iter->second << \textcolor{stringliteral}{" already subscribed !"} << std::endl;
888       \}
889 
890       \textcolor{comment}{// find the monitor element}
891       DQMMonitorElement *pMonitorElement = moduleIter->second->getMonitorElement(iter->second);
892 
893       \textcolor{keywordflow}{if}(NULL == pMonitorElement)
894         \textcolor{keywordflow}{continue};
895 
896       streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Element : "} << iter->second << \textcolor{stringliteral}{" found !"} << std::endl;
897       monitorElementPublication[iter->first].push\_back(pMonitorElement);
898     \}
899 
900     \textcolor{keywordflow}{for}(StringSet::iterator iter = updateModuleList.begin(), endIter = updateModuleList.end() ;
901         endIter != iter ; ++iter)
902     \{
903       streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Module "} << *iter << \textcolor{stringliteral}{" notified to send new me list !"} << std::endl;
904       this->notifyWatchedMe(*iter);
905     \}
906 
907     \textcolor{keywordflow}{if}(monitorElementPublication.empty())
908       \textcolor{keywordflow}{return};
909 
910     m_dataStream.reset();
911     StatusCode statusCode = monitorElementPublication.serialize(&m_dataStream);
912 
913     \textcolor{keywordflow}{if}(statusCode != STATUS\_CODE\_SUCCESS)
914     \{
915       m_dataStream.reset();
916       \textcolor{keywordflow}{return};
917     \}
918 
919     \textcolor{keywordtype}{int} clientIds[2];
920     clientIds[0] = clientId;
921     clientIds[1] = 0;
922 
923     streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Me update service called (on query) !"} << std::endl;
924     m_pMeUpdateService->selectiveUpdateService((\textcolor{keywordtype}{void} *) m_dataStream.getBuffer(), 
      m_dataStream.getBufferSize() , &clientIds[0]);
925   \}
926   \textcolor{keywordflow}{catch}(\textcolor{keyword}{const} StatusCodeException &exception)
927   \{
928     streamlog\_out(WARNING) << \textcolor{stringliteral}{"Exception caught : "} << exception.toString() << std::endl;
929   \}
930 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!is\+Running@{is\+Running}}
\index{is\+Running@{is\+Running}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{is\+Running}]{\setlength{\rightskip}{0pt plus 5cm}bool dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::is\+Running (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\label{classdqm4hep_1_1DQMMonitorElementCollector_afc6030d34cecf78a14e93f9f8ffa2a42}


Whether the collector is running. 



Definition at line 544 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References m\+\_\+collector\+State.



Referenced by handle\+Available\+List\+Update(), handle\+Client\+Request\+List(), handle\+Client\+Subscription(), handle\+Client\+Unsubscription(), handle\+Me\+Query(), dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Name\+List\+Rpc\+::rpc\+Handler(), send\+Me\+Update(), set\+Collector\+Name(), start(), stop(), $\sim$\+D\+Q\+M\+Monitor\+Element\+Collector(), and dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+Application\+::$\sim$\+D\+Q\+M\+Monitor\+Element\+Collector\+Application().


\begin{DoxyCode}
545 \{
546   \textcolor{keywordflow}{return} (m_collectorState == RUNNING\_STATE);
547 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!notify\+Watched\+Me@{notify\+Watched\+Me}}
\index{notify\+Watched\+Me@{notify\+Watched\+Me}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{notify\+Watched\+Me}]{\setlength{\rightskip}{0pt plus 5cm}void dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::notify\+Watched\+Me (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{module\+Name}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_ab3d6117a388be2e83f665819057e2b55}


Notify the module that users are watching a different set of monitor elements provided by the module. 



Definition at line 1104 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::get\+Buffer(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::get\+Buffer\+Size(), get\+Module\+Client\+I\+D(), m\+\_\+data\+Stream, m\+\_\+module\+Me\+Info\+Map, m\+\_\+p\+Notify\+Watched\+Me\+Service, dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::reset(), and dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::write().



Referenced by deregister\+Client(), handle\+Available\+List\+Update(), handle\+Client\+Request\+List(), handle\+Client\+Subscription(), handle\+Client\+Unsubscription(), and handle\+Me\+Query().


\begin{DoxyCode}
1105 \{
1106   \textcolor{keywordtype}{int} clientId = this->getModuleClientID(moduleName);
1107 
1108   \textcolor{keywordflow}{if}(0 == clientId)
1109     \textcolor{keywordflow}{return};
1110 
1111   ModuleMeInfoMap::iterator moduleFindIter = m_moduleMeInfoMap.find(moduleName);
1112 
1113   \textcolor{keywordflow}{if}(moduleFindIter == m_moduleMeInfoMap.end())
1114     \textcolor{keywordflow}{return};
1115 
1116   StringSet watchedMeList = moduleFindIter->second->getSubscribedList();
1117 
1118   m_dataStream.reset();
1119 
1120   \textcolor{keywordflow}{if}(STATUS\_CODE\_SUCCESS != m_dataStream.write(static\_cast<dqm\_uint>(watchedMeList.size())))
1121   \{
1122     m_dataStream.reset();
1123     \textcolor{keywordflow}{return};
1124   \}
1125 
1126   \textcolor{keywordflow}{for}(StringSet::iterator iter = watchedMeList.begin(), endIter = watchedMeList.end() ;
1127       endIter != iter ; ++iter)
1128   \{
1129     \textcolor{keywordflow}{if}(STATUS\_CODE\_SUCCESS != m_dataStream.write(*iter))
1130     \{
1131       m_dataStream.reset();
1132       \textcolor{keywordflow}{return};
1133     \}
1134   \}
1135 
1136   \textcolor{keywordtype}{int} clientIds[2];
1137   clientIds[0] = clientId;
1138   clientIds[1] = 0;
1139 
1140   m_pNotifyWatchedMeService->selectiveUpdateService( (\textcolor{keywordtype}{void} *) m_dataStream.
      getBuffer(), m_dataStream.getBufferSize(), &clientIds[0] );
1141 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!register\+Client@{register\+Client}}
\index{register\+Client@{register\+Client}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{register\+Client}]{\setlength{\rightskip}{0pt plus 5cm}bool dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::register\+Client (
\begin{DoxyParamCaption}
\item[{int}]{client\+Id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a78f4ff447c758e83c5acc5b9ac94e1d9}


Register a monitor element client. 



Definition at line 1145 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References m\+\_\+client\+Map.



Referenced by handle\+Available\+List\+Update(), handle\+Client\+Request\+List(), handle\+Client\+Subscription(), handle\+Client\+Unsubscription(), handle\+Me\+Query(), and send\+Me\+Update().


\begin{DoxyCode}
1146 \{
1147   ClientMap::iterator findIter = m_clientMap.find(clientId);
1148 
1149   \textcolor{keywordflow}{if}(findIter != m_clientMap.end())
1150     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1151 
1152   \textcolor{comment}{// just insert a new client}
1153   m_clientMap.insert( ClientMap::value\_type( clientId, ClientInfo(clientId) ) );
1154   DimServer::setClientExitHandler(clientId);
1155 
1156   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1157 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!register\+Client@{register\+Client}}
\index{register\+Client@{register\+Client}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{register\+Client}]{\setlength{\rightskip}{0pt plus 5cm}bool dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::register\+Client (
\begin{DoxyParamCaption}
\item[{int}]{client\+Id, }
\item[{const std\+::string}]{module\+Name}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_af1d9f6c128f0c4a664b1f38866e08915}


Register a module client. 



Definition at line 1161 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References dqm4hep\+::\+D\+E\+B\+U\+G, m\+\_\+client\+Map, and m\+\_\+module\+Me\+Info\+Map.


\begin{DoxyCode}
1162 \{
1163   ClientMap::iterator findIter = m_clientMap.find(clientId);
1164 
1165   \textcolor{keywordflow}{if}(findIter != m_clientMap.end())
1166     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1167 
1168   streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Registering module "} << moduleName << \textcolor{stringliteral}{" with client id "} << clientId << 
      std::endl;
1169 
1170   \textcolor{comment}{// insert a new client}
1171   m_clientMap.insert( ClientMap::value\_type( clientId, ClientInfo(clientId, moduleName) ) );
1172 
1173   \textcolor{comment}{// create monitor element storage}
1174   m_moduleMeInfoMap.insert( ModuleMeInfoMap::value\_type( moduleName, \textcolor{keyword}{new} ModuleMeInfo() ) );
1175 
1176   DimServer::setClientExitHandler(clientId);
1177 
1178   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1179 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!send\+Me\+Update@{send\+Me\+Update}}
\index{send\+Me\+Update@{send\+Me\+Update}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{send\+Me\+Update}]{\setlength{\rightskip}{0pt plus 5cm}void dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::send\+Me\+Update (
\begin{DoxyParamCaption}
\item[{int}]{client\+I\+D}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a6eb1ca2da7216f9812ec4c92ac3ee032}


Update the monitor element publication service for a specific client. 



Definition at line 1054 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References dqm4hep\+::\+D\+E\+B\+U\+G, dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::get\+Buffer(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::get\+Buffer\+Size(), is\+Running(), m\+\_\+data\+Stream, m\+\_\+module\+Me\+Info\+Map, m\+\_\+p\+Me\+Update\+Service, register\+Client(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::reset(), and dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Publication\+::serialize().



Referenced by handle\+Client\+Update\+Mode(), handle\+Me\+Query(), and update\+Clients().


\begin{DoxyCode}
1055 \{
1056   \textcolor{keywordflow}{if}(!this->isRunning())
1057     \textcolor{keywordflow}{return};
1058 
1059   this->registerClient(clientId);
1060 
1061   DQMMonitorElementPublication monitorElementPublication;
1062   streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Building publication to send to client"} << std::endl;
1063 
1064   \textcolor{keywordflow}{for}(ModuleMeInfoMap::const\_iterator iter = m_moduleMeInfoMap.begin(), endIter = 
      m_moduleMeInfoMap.end() ;
1065       endIter != iter ; ++iter)
1066   \{
1067     std::string moduleName = iter->first;
1068 
1069     DQMMonitorElementList subscribedMeList = iter->second->getSubscribedMeList(clientId);
1070 
1071     \textcolor{keywordflow}{if}(subscribedMeList.empty())
1072       \textcolor{keywordflow}{continue};
1073 
1074     streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Module "} << moduleName << \textcolor{stringliteral}{", total me list = "} << subscribedMeList.size() << 
      std::endl;
1075 
1076     monitorElementPublication.insert(DQMMonitorElementPublication::value\_type(moduleName, subscribedMeList)
      );
1077   \}
1078 
1079   \textcolor{keywordflow}{if}(monitorElementPublication.empty())
1080   \{
1081     streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Empty publication ! Nothing will be sent !"} << std::endl;
1082     \textcolor{keywordflow}{return};
1083   \}
1084 
1085   m_dataStream.reset();
1086   StatusCode statusCode = monitorElementPublication.serialize(&m_dataStream);
1087 
1088   \textcolor{keywordflow}{if}(statusCode != STATUS\_CODE\_SUCCESS)
1089   \{
1090     m_dataStream.reset();
1091     \textcolor{keywordflow}{return};
1092   \}
1093 
1094   \textcolor{keywordtype}{int} clientIds[2];
1095   clientIds[0] = clientId;
1096   clientIds[1] = 0;
1097 
1098   streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Me update service called (on update)!"} << std::endl;
1099   m_pMeUpdateService->selectiveUpdateService((\textcolor{keywordtype}{void} *) m_dataStream.getBuffer(), 
      m_dataStream.getBufferSize() , &clientIds[0]);
1100 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!set\+Collector\+Name@{set\+Collector\+Name}}
\index{set\+Collector\+Name@{set\+Collector\+Name}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{set\+Collector\+Name}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Status\+Code} dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::set\+Collector\+Name (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{collector\+Name}
\end{DoxyParamCaption}
)}\label{classdqm4hep_1_1DQMMonitorElementCollector_ad83bf1cace896deab0f5e6ef9f67b012}


Set the collector name. 

Can be set only if the collector is not running. The collector name is used to build the service and command names over the network 

Definition at line 410 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References is\+Running(), and m\+\_\+collector\+Name.



Referenced by dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+Application\+::set\+Collector\+Name().


\begin{DoxyCode}
411 \{
412   \textcolor{keywordflow}{if}(isRunning())
413     \textcolor{keywordflow}{return} STATUS\_CODE\_NOT\_ALLOWED;
414 
415   m_collectorName = collectorName;
416 
417   \textcolor{keywordflow}{return} STATUS\_CODE\_SUCCESS;
418 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!start@{start}}
\index{start@{start}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{start}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Status\+Code} dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::start (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classdqm4hep_1_1DQMMonitorElementCollector_a3e4361c301a7804794acfe6b8e21b1f8}


Start the collector. 

Allocate services and commands 

Definition at line 429 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References dqm4hep\+::\+D\+E\+B\+U\+G, D\+Q\+M\+Monitor\+Element\+Collector\+Info\+Rpc, D\+Q\+M\+Monitor\+Element\+Name\+List\+Rpc, dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::get\+Buffer(), dqm4hep\+::\+D\+Q\+M\+Data\+Stream\+::get\+Buffer\+Size(), is\+Running(), m\+\_\+collector\+Name, m\+\_\+collector\+State, m\+\_\+data\+Stream, m\+\_\+p\+Available\+Me\+List\+Command, m\+\_\+p\+Collect\+Me\+Command, m\+\_\+p\+Collector\+State\+Service, m\+\_\+p\+Me\+Query\+Command, m\+\_\+p\+Me\+Update\+Service, m\+\_\+p\+Monitor\+Element\+Collector\+Info\+Rpc, m\+\_\+p\+Monitor\+Element\+Name\+List\+Rpc, m\+\_\+p\+Notify\+Watched\+Me\+Service, m\+\_\+p\+Set\+Subscription\+Command, m\+\_\+p\+Set\+Update\+Mode\+Command, m\+\_\+p\+Statistics\+Service, m\+\_\+p\+Subscribe\+Command, and m\+\_\+p\+Unsubscribe\+Command.



Referenced by dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+Application\+::run().


\begin{DoxyCode}
430 \{
431   \textcolor{keywordflow}{if}(isRunning())
432     \textcolor{keywordflow}{return} STATUS\_CODE\_SUCCESS;
433 
434   std::string baseName = \textcolor{stringliteral}{"DQM4HEP/MonitorElementCollector/"} + m_collectorName + \textcolor{stringliteral}{"/"};
435   std::stringstream ss;
436 
437   ss << baseName << \textcolor{stringliteral}{"MONITOR\_ELEMENT\_NAME\_LIST\_RPC"};
438   m_pMonitorElementNameListRpc = \textcolor{keyword}{new} DQMMonitorElementNameListRpc((\textcolor{keywordtype}{char} *)ss.str().c\_str(), \textcolor{keyword}{this});
439 
440   ss.str(\textcolor{stringliteral}{""});
441   ss << baseName << \textcolor{stringliteral}{"COLLECTOR\_INFO\_RPC"};
442   m_pMonitorElementCollectorInfoRpc = \textcolor{keyword}{new} DQMMonitorElementCollectorInfoRpc((\textcolor{keywordtype}{char} *)ss.str().c\_str(), \textcolor{keyword}{this})
      ;
443 
444   \textcolor{comment}{// from modules}
445   ss.str(\textcolor{stringliteral}{""});
446   ss << baseName << \textcolor{stringliteral}{"COLLECT\_ME\_CMD"};
447   m_pCollectMeCommand = \textcolor{keyword}{new} DimCommand((\textcolor{keywordtype}{char} *)ss.str().c\_str(), \textcolor{stringliteral}{"C"}, \textcolor{keyword}{this});
448 
449   ss.str(\textcolor{stringliteral}{""});
450   ss << baseName << \textcolor{stringliteral}{"NOTIFY\_WATCHED\_ME\_SVC"};
451   m_pNotifyWatchedMeService = \textcolor{keyword}{new} DimService((\textcolor{keywordtype}{char} *)ss.str().c\_str(), \textcolor{stringliteral}{"C"},
452       (\textcolor{keywordtype}{void}*) m_dataStream.getBuffer(), m_dataStream.getBufferSize());
453 
454 
455 
456   \textcolor{comment}{// from clients}
457   ss.str(\textcolor{stringliteral}{""});
458   ss << baseName << \textcolor{stringliteral}{"AVAILABLE\_ME\_CMD"};
459   m_pAvailableMeListCommand = \textcolor{keyword}{new} DimCommand((\textcolor{keywordtype}{char} *)ss.str().c\_str(), \textcolor{stringliteral}{"C"}, \textcolor{keyword}{this});
460 
461   ss.str(\textcolor{stringliteral}{""});
462   ss << baseName << \textcolor{stringliteral}{"QUERY\_ME\_CMD"};
463   m_pMeQueryCommand = \textcolor{keyword}{new} DimCommand((\textcolor{keywordtype}{char} *)ss.str().c\_str(), \textcolor{stringliteral}{"C"}, \textcolor{keyword}{this});
464 
465   ss.str(\textcolor{stringliteral}{""});
466   ss << baseName << \textcolor{stringliteral}{"SET\_UPDATE\_MODE\_CMD"};
467   m_pSetUpdateModeCommand = \textcolor{keyword}{new} DimCommand((\textcolor{keywordtype}{char} *)ss.str().c\_str(), \textcolor{stringliteral}{"I"}, \textcolor{keyword}{this});
468 
469   ss.str(\textcolor{stringliteral}{""});
470   ss << baseName << \textcolor{stringliteral}{"SUBSCRIBE\_CMD"};
471   m_pSubscribeCommand = \textcolor{keyword}{new} DimCommand((\textcolor{keywordtype}{char} *)ss.str().c\_str(), \textcolor{stringliteral}{"C"}, \textcolor{keyword}{this});
472 
473   ss.str(\textcolor{stringliteral}{""});
474   ss << baseName << \textcolor{stringliteral}{"UNSUBSCRIBE\_CMD"};
475   m_pUnsubscribeCommand = \textcolor{keyword}{new} DimCommand((\textcolor{keywordtype}{char} *)ss.str().c\_str(), \textcolor{stringliteral}{"C"}, \textcolor{keyword}{this});
476 
477   ss.str(\textcolor{stringliteral}{""});
478   ss << baseName << \textcolor{stringliteral}{"SET\_SUBSCRIPTION\_CMD"};
479   m_pSetSubscriptionCommand = \textcolor{keyword}{new} DimCommand((\textcolor{keywordtype}{char} *)ss.str().c\_str(), \textcolor{stringliteral}{"C"}, \textcolor{keyword}{this});
480 
481   ss.str(\textcolor{stringliteral}{""});
482   ss << baseName << \textcolor{stringliteral}{"STATS"};
483   m_pStatisticsService = \textcolor{keyword}{new} DQMStatisticsService(ss.str());
484 
485   ss.str(\textcolor{stringliteral}{""});
486   ss << baseName << \textcolor{stringliteral}{"ME\_UPDATE\_SVC"};
487   m_pMeUpdateService = \textcolor{keyword}{new} DimService((\textcolor{keywordtype}{char} *)ss.str().c\_str(), \textcolor{stringliteral}{"C"},
488       (\textcolor{keywordtype}{void}*) m_dataStream.getBuffer(), m_dataStream.getBufferSize());
489 
490 
491   m_collectorState = RUNNING\_STATE;
492 
493   ss.str(\textcolor{stringliteral}{""});
494   ss << baseName << \textcolor{stringliteral}{"COLLECTOR\_STATE\_SVC"};
495   m_pCollectorStateService = \textcolor{keyword}{new} DimService((\textcolor{keywordtype}{char} *)ss.str().c\_str(), 
      m_collectorState);
496 
497   \textcolor{comment}{// for registration on dns ...}
498   sleep(1);
499 
500   \textcolor{comment}{// notify server running !}
501   streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Server started !"} << std::endl;
502   m_pCollectorStateService->updateService(m\_collectorState);
503 
504   \textcolor{keywordflow}{return} STATUS\_CODE\_SUCCESS;
505 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!stop@{stop}}
\index{stop@{stop}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{stop}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Status\+Code} dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::stop (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classdqm4hep_1_1DQMMonitorElementCollector_a5f2262d464c00cff2874ef2b3f207d6e}


Stop the collector. 

Destroy the commands and services 

Definition at line 509 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References is\+Running(), m\+\_\+collector\+State, m\+\_\+p\+Available\+Me\+List\+Command, m\+\_\+p\+Collect\+Me\+Command, m\+\_\+p\+Collector\+State\+Service, m\+\_\+p\+Me\+Query\+Command, m\+\_\+p\+Me\+Update\+Service, m\+\_\+p\+Monitor\+Element\+Collector\+Info\+Rpc, m\+\_\+p\+Monitor\+Element\+Name\+List\+Rpc, m\+\_\+p\+Notify\+Watched\+Me\+Service, m\+\_\+p\+Set\+Subscription\+Command, m\+\_\+p\+Set\+Update\+Mode\+Command, m\+\_\+p\+Statistics\+Service, m\+\_\+p\+Subscribe\+Command, and m\+\_\+p\+Unsubscribe\+Command.



Referenced by dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+Application\+::exit(), $\sim$\+D\+Q\+M\+Monitor\+Element\+Collector(), and dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+Application\+::$\sim$\+D\+Q\+M\+Monitor\+Element\+Collector\+Application().


\begin{DoxyCode}
510 \{
511   \textcolor{keywordflow}{if}(!isRunning())
512     \textcolor{keywordflow}{return} STATUS\_CODE\_SUCCESS;
513 
514   \textcolor{keyword}{delete} m_pCollectMeCommand;
515   \textcolor{keyword}{delete} m_pAvailableMeListCommand;
516   \textcolor{keyword}{delete} m_pMeQueryCommand;
517   \textcolor{keyword}{delete} m_pSetUpdateModeCommand;
518   \textcolor{keyword}{delete} m_pSubscribeCommand;
519   \textcolor{keyword}{delete} m_pUnsubscribeCommand;
520   \textcolor{keyword}{delete} m_pSetSubscriptionCommand;
521 
522   \textcolor{keyword}{delete} m_pMonitorElementNameListRpc;
523   \textcolor{keyword}{delete} m_pMonitorElementCollectorInfoRpc;
524   \textcolor{keyword}{delete} m_pStatisticsService;
525   \textcolor{keyword}{delete} m_pMeUpdateService;
526   \textcolor{keyword}{delete} m_pNotifyWatchedMeService;
527 
528   m_collectorState = STOPPED\_STATE;
529   m_pCollectorStateService->updateService(m_collectorState);
530   \textcolor{keyword}{delete} m_pCollectorStateService;
531 
532   \textcolor{keywordflow}{return} STATUS\_CODE\_SUCCESS;
533 \}
\end{DoxyCode}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!update\+Clients@{update\+Clients}}
\index{update\+Clients@{update\+Clients}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{update\+Clients}]{\setlength{\rightskip}{0pt plus 5cm}void dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::update\+Clients (
\begin{DoxyParamCaption}
\item[{const {\bf Client\+Update\+Map} \&}]{client\+Update\+Map, }
\item[{bool}]{force\+Update = {\ttfamily false}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_abde1b5f011773c32748eaf6902615110}


Update client side with the monitor elements. 



Definition at line 551 of file D\+Q\+M\+Monitor\+Element\+Collector.\+cc.



References dqm4hep\+::\+D\+E\+B\+U\+G, m\+\_\+client\+Map, and send\+Me\+Update().



Referenced by handle\+Me\+Collect\+Update().


\begin{DoxyCode}
552 \{
553   \textcolor{keywordflow}{for}(ClientUpdateMap::const\_iterator iter = clientUpdateMap.begin(), endIter = clientUpdateMap.end() ;
554       endIter != iter ; ++iter)
555   \{
556     ClientMap::iterator clientIter = m_clientMap.find(iter->first);
557 
558     \textcolor{keywordflow}{if}(clientIter == m_clientMap.end())
559     \{
560       streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Client no "} << iter->first << \textcolor{stringliteral}{" not registered. Skipping ..."} << std::endl;
561       \textcolor{keywordflow}{continue};
562     \}
563 
564     \textcolor{keywordflow}{if}(!clientIter->second.hasUpdateMode() && !forceUpdate)
565     \{
566       streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Client no "} << iter->first << \textcolor{stringliteral}{" is not in update mode. Skipping ..."} << 
      std::endl;
567       \textcolor{keywordflow}{continue};
568     \}
569 
570     streamlog\_out(DEBUG) << \textcolor{stringliteral}{"Sending updates to client no "} << iter->first << std::endl;
571     this->sendMeUpdate(clientIter->first);
572   \}
573 \}
\end{DoxyCode}


\subsection{Friends And Related Function Documentation}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!D\+Q\+M\+Collector\+Command\+Handler@{D\+Q\+M\+Collector\+Command\+Handler}}
\index{D\+Q\+M\+Collector\+Command\+Handler@{D\+Q\+M\+Collector\+Command\+Handler}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{D\+Q\+M\+Collector\+Command\+Handler}]{\setlength{\rightskip}{0pt plus 5cm}friend class D\+Q\+M\+Collector\+Command\+Handler\hspace{0.3cm}{\ttfamily [friend]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_af8c96254f465d5d0ce5c49cd585ce866}


Definition at line 363 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!D\+Q\+M\+Monitor\+Element\+Collector\+Info\+Rpc@{D\+Q\+M\+Monitor\+Element\+Collector\+Info\+Rpc}}
\index{D\+Q\+M\+Monitor\+Element\+Collector\+Info\+Rpc@{D\+Q\+M\+Monitor\+Element\+Collector\+Info\+Rpc}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{D\+Q\+M\+Monitor\+Element\+Collector\+Info\+Rpc}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf D\+Q\+M\+Monitor\+Element\+Collector\+Info\+Rpc}\hspace{0.3cm}{\ttfamily [friend]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a6d4fcba557dc65ee7f164cee0aa29686}


Definition at line 365 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by start().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!D\+Q\+M\+Monitor\+Element\+Name\+List\+Rpc@{D\+Q\+M\+Monitor\+Element\+Name\+List\+Rpc}}
\index{D\+Q\+M\+Monitor\+Element\+Name\+List\+Rpc@{D\+Q\+M\+Monitor\+Element\+Name\+List\+Rpc}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{D\+Q\+M\+Monitor\+Element\+Name\+List\+Rpc}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf D\+Q\+M\+Monitor\+Element\+Name\+List\+Rpc}\hspace{0.3cm}{\ttfamily [friend]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a26abb5db7ac5bca0175fe92ba376e1ab}


Definition at line 364 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by start().



\subsection{Member Data Documentation}
\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+client\+Map@{m\+\_\+client\+Map}}
\index{m\+\_\+client\+Map@{m\+\_\+client\+Map}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+client\+Map}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Client\+Map} dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+client\+Map\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a2ce5ca5919b59348e1a83d2fc38028ac}


Definition at line 361 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by deregister\+Client(), get\+Module\+Client\+I\+D(), handle\+Client\+Update\+Mode(), register\+Client(), and update\+Clients().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+collector\+Name@{m\+\_\+collector\+Name}}
\index{m\+\_\+collector\+Name@{m\+\_\+collector\+Name}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+collector\+Name}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+collector\+Name\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a0b62efc7612c6c5d2ec0c01a36bbb068}


Definition at line 335 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by get\+Collector\+Name(), set\+Collector\+Name(), and start().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+collector\+State@{m\+\_\+collector\+State}}
\index{m\+\_\+collector\+State@{m\+\_\+collector\+State}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+collector\+State}]{\setlength{\rightskip}{0pt plus 5cm}int dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+collector\+State\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_ad74dd7fe0efe00e830f92c043ba62fc8}


Definition at line 356 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by get\+State(), is\+Running(), start(), and stop().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+data\+Stream@{m\+\_\+data\+Stream}}
\index{m\+\_\+data\+Stream@{m\+\_\+data\+Stream}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+data\+Stream}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\+Q\+M\+Data\+Stream} dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+data\+Stream\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a8e2267a813091ea214dfe155be1ab937}


To deserialize incoming monitor elements from modules. 



Definition at line 357 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by D\+Q\+M\+Monitor\+Element\+Collector(), handle\+Available\+List\+Update(), handle\+Client\+Request\+List(), handle\+Client\+Subscription(), handle\+Client\+Unsubscription(), handle\+Me\+Collect\+Update(), handle\+Me\+Query(), notify\+Watched\+Me(), send\+Me\+Update(), and start().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+empty\+Buffer\+Str@{m\+\_\+empty\+Buffer\+Str}}
\index{m\+\_\+empty\+Buffer\+Str@{m\+\_\+empty\+Buffer\+Str}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+empty\+Buffer\+Str}]{\setlength{\rightskip}{0pt plus 5cm}const std\+::string dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+empty\+Buffer\+Str = \char`\"{}E\+M\+P\+T\+Y\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_af1b9a7cbecd3f3c8961c12bb7fc7b7b4}


Definition at line 261 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by D\+Q\+M\+Monitor\+Element\+Collector().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+module\+Me\+Info\+Map@{m\+\_\+module\+Me\+Info\+Map}}
\index{m\+\_\+module\+Me\+Info\+Map@{m\+\_\+module\+Me\+Info\+Map}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+module\+Me\+Info\+Map}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Module\+Me\+Info\+Map} dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+module\+Me\+Info\+Map\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_ae537e81d20367aba811a5380fc3df9c9}


Definition at line 360 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by deregister\+Client(), handle\+Available\+List\+Update(), handle\+Client\+Request\+List(), handle\+Client\+Subscription(), handle\+Client\+Unsubscription(), handle\+Me\+Collect\+Update(), handle\+Me\+Query(), notify\+Watched\+Me(), register\+Client(), dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Name\+List\+Rpc\+::rpc\+Handler(), dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+Info\+Rpc\+::rpc\+Handler(), and send\+Me\+Update().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+p\+Available\+Me\+List\+Command@{m\+\_\+p\+Available\+Me\+List\+Command}}
\index{m\+\_\+p\+Available\+Me\+List\+Command@{m\+\_\+p\+Available\+Me\+List\+Command}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+p\+Available\+Me\+List\+Command}]{\setlength{\rightskip}{0pt plus 5cm}Dim\+Command$\ast$ dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+p\+Available\+Me\+List\+Command\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a39100901b62f23c06fbddc86fc8d1c67}


Definition at line 342 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by command\+Handler(), start(), and stop().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+p\+Collect\+Me\+Command@{m\+\_\+p\+Collect\+Me\+Command}}
\index{m\+\_\+p\+Collect\+Me\+Command@{m\+\_\+p\+Collect\+Me\+Command}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+p\+Collect\+Me\+Command}]{\setlength{\rightskip}{0pt plus 5cm}Dim\+Command$\ast$ dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+p\+Collect\+Me\+Command\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_aa2f8f3dee6f6bc58683e525efef4a6a5}


Definition at line 341 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by command\+Handler(), start(), and stop().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+p\+Collector\+State\+Service@{m\+\_\+p\+Collector\+State\+Service}}
\index{m\+\_\+p\+Collector\+State\+Service@{m\+\_\+p\+Collector\+State\+Service}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+p\+Collector\+State\+Service}]{\setlength{\rightskip}{0pt plus 5cm}Dim\+Service$\ast$ dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+p\+Collector\+State\+Service\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a936166490fa24db07eb513529b87cb91}


Definition at line 352 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by start(), and stop().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+p\+Me\+Query\+Command@{m\+\_\+p\+Me\+Query\+Command}}
\index{m\+\_\+p\+Me\+Query\+Command@{m\+\_\+p\+Me\+Query\+Command}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+p\+Me\+Query\+Command}]{\setlength{\rightskip}{0pt plus 5cm}Dim\+Command$\ast$ dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+p\+Me\+Query\+Command\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a95986498cb3ad276d1d42c49fae9b9df}


Definition at line 343 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by command\+Handler(), start(), and stop().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+p\+Me\+Update\+Service@{m\+\_\+p\+Me\+Update\+Service}}
\index{m\+\_\+p\+Me\+Update\+Service@{m\+\_\+p\+Me\+Update\+Service}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+p\+Me\+Update\+Service}]{\setlength{\rightskip}{0pt plus 5cm}Dim\+Service$\ast$ dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+p\+Me\+Update\+Service\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a48d4632cb6f94962aaa9f6674cea73ff}


Definition at line 350 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by handle\+Me\+Query(), send\+Me\+Update(), start(), and stop().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+p\+Monitor\+Element\+Collector\+Info\+Rpc@{m\+\_\+p\+Monitor\+Element\+Collector\+Info\+Rpc}}
\index{m\+\_\+p\+Monitor\+Element\+Collector\+Info\+Rpc@{m\+\_\+p\+Monitor\+Element\+Collector\+Info\+Rpc}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+p\+Monitor\+Element\+Collector\+Info\+Rpc}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\+Q\+M\+Monitor\+Element\+Collector\+Info\+Rpc}$\ast$ dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+p\+Monitor\+Element\+Collector\+Info\+Rpc\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_af998ec9790318d6d27e786d8ee36e4cb}


Definition at line 339 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by start(), and stop().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+p\+Monitor\+Element\+Name\+List\+Rpc@{m\+\_\+p\+Monitor\+Element\+Name\+List\+Rpc}}
\index{m\+\_\+p\+Monitor\+Element\+Name\+List\+Rpc@{m\+\_\+p\+Monitor\+Element\+Name\+List\+Rpc}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+p\+Monitor\+Element\+Name\+List\+Rpc}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\+Q\+M\+Monitor\+Element\+Name\+List\+Rpc}$\ast$ dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+p\+Monitor\+Element\+Name\+List\+Rpc\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a36a5014893fe6206cd1d8ff235eecfde}


Definition at line 338 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by start(), and stop().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+p\+Notify\+Watched\+Me\+Service@{m\+\_\+p\+Notify\+Watched\+Me\+Service}}
\index{m\+\_\+p\+Notify\+Watched\+Me\+Service@{m\+\_\+p\+Notify\+Watched\+Me\+Service}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+p\+Notify\+Watched\+Me\+Service}]{\setlength{\rightskip}{0pt plus 5cm}Dim\+Service$\ast$ dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+p\+Notify\+Watched\+Me\+Service\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_af750d908326b42bd0a719ea7d4e39978}


Definition at line 351 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by notify\+Watched\+Me(), start(), and stop().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+p\+Query\+Subscribed\+Command@{m\+\_\+p\+Query\+Subscribed\+Command}}
\index{m\+\_\+p\+Query\+Subscribed\+Command@{m\+\_\+p\+Query\+Subscribed\+Command}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+p\+Query\+Subscribed\+Command}]{\setlength{\rightskip}{0pt plus 5cm}Dim\+Command$\ast$ dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+p\+Query\+Subscribed\+Command\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a1c1c229d61ae550d1eaa3785e74a428a}


Definition at line 348 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+p\+Set\+Subscription\+Command@{m\+\_\+p\+Set\+Subscription\+Command}}
\index{m\+\_\+p\+Set\+Subscription\+Command@{m\+\_\+p\+Set\+Subscription\+Command}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+p\+Set\+Subscription\+Command}]{\setlength{\rightskip}{0pt plus 5cm}Dim\+Command$\ast$ dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+p\+Set\+Subscription\+Command\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a53a57d391b3f008db4c244b5b793c087}


Definition at line 347 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by command\+Handler(), start(), and stop().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+p\+Set\+Update\+Mode\+Command@{m\+\_\+p\+Set\+Update\+Mode\+Command}}
\index{m\+\_\+p\+Set\+Update\+Mode\+Command@{m\+\_\+p\+Set\+Update\+Mode\+Command}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+p\+Set\+Update\+Mode\+Command}]{\setlength{\rightskip}{0pt plus 5cm}Dim\+Command$\ast$ dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+p\+Set\+Update\+Mode\+Command\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a6733ae07ddedba381b5d00c059317476}


Definition at line 344 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by command\+Handler(), start(), and stop().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+p\+Statistics\+Service@{m\+\_\+p\+Statistics\+Service}}
\index{m\+\_\+p\+Statistics\+Service@{m\+\_\+p\+Statistics\+Service}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+p\+Statistics\+Service}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\+Q\+M\+Statistics\+Service}$\ast$ dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+p\+Statistics\+Service\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_adde6ea9e191540b6625b7ca50f89dfc6}


Definition at line 353 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by handle\+Me\+Collect\+Update(), start(), and stop().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+p\+Subscribe\+Command@{m\+\_\+p\+Subscribe\+Command}}
\index{m\+\_\+p\+Subscribe\+Command@{m\+\_\+p\+Subscribe\+Command}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+p\+Subscribe\+Command}]{\setlength{\rightskip}{0pt plus 5cm}Dim\+Command$\ast$ dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+p\+Subscribe\+Command\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a50b2f908d499789f1c8d1b01bdcf6223}


Definition at line 345 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by command\+Handler(), start(), and stop().

\index{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}!m\+\_\+p\+Unsubscribe\+Command@{m\+\_\+p\+Unsubscribe\+Command}}
\index{m\+\_\+p\+Unsubscribe\+Command@{m\+\_\+p\+Unsubscribe\+Command}!dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector@{dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector}}
\subsubsection[{m\+\_\+p\+Unsubscribe\+Command}]{\setlength{\rightskip}{0pt plus 5cm}Dim\+Command$\ast$ dqm4hep\+::\+D\+Q\+M\+Monitor\+Element\+Collector\+::m\+\_\+p\+Unsubscribe\+Command\hspace{0.3cm}{\ttfamily [private]}}\label{classdqm4hep_1_1DQMMonitorElementCollector_a3b75bae0d315c256eee0a7bcf086d733}


Definition at line 346 of file D\+Q\+M\+Monitor\+Element\+Collector.\+h.



Referenced by command\+Handler(), start(), and stop().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
{\bf D\+Q\+M\+Monitor\+Element\+Collector.\+h}\item 
{\bf D\+Q\+M\+Monitor\+Element\+Collector.\+cc}\end{DoxyCompactItemize}
